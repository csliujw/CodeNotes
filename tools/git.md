# Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·

[GitHub Docs](https://docs.github.com/zh)

[Gitå­¦ä¹ ç¬”è®° | Kisugi Takumi](https://kisugitakumi.com/2022/01/18/Gitå­¦ä¹ ç¬”è®°/#Gitå­¦ä¹ ç¬”è®°)

<img src="img/011500266295799.png">

## æ¦‚è¿°

- [x] äº†è§£ Git åŸºæœ¬æ¦‚å¿µ
- [x] äº†è§£ Git å·¥ä½œæµç¨‹
- [x] ç†Ÿæ‚‰ Git å¸¸ç”¨å‘½ä»¤
- [x] ç†Ÿæ‚‰ IDEA ä¸­ Git çš„ä½¿ç”¨

### ç‰ˆæœ¬æ§åˆ¶çš„æ–¹å¼

- é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·

    - ç‰ˆæœ¬åº“æ˜¯é›†ä¸­å­˜æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œteam é‡Œæ¯ä¸ªäºº work æ—¶ä»ä¸­å¤®æœåŠ¡å™¨ä¸‹è½½ä»£ç ï¼Œæ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œï¼Œå±€åŸŸç½‘æˆ–äº’è”ç½‘ã€‚ä¸ªäººä¿®æ”¹åç„¶åæäº¤åˆ°ä¸­å¤®ç‰ˆæœ¬åº“ã€‚
    - ä¸¾ä¾‹ï¼šSVN å’Œ CVS

- åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…· 

    - åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ²¡æœ‰â€œä¸­å¤®æœåŠ¡å™¨â€ï¼Œæ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œè¿™æ ·å·¥ä½œçš„æ—¶å€™æ— éœ€è¦è”ç½‘ï¼Œå› ä¸ºç‰ˆæœ¬åº“å°±åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šã€‚å¤šäººåä½œåªéœ€è¦å„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±èƒ½äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚
    - ä¸¾ä¾‹ï¼šGit

### git çš„ä½œç”¨

- [x] ä»£ç å¤‡ä»½ï¼šä»£ç å¤‡ä»½åˆ° GitHub ä¸Šã€‚
- [x] ä»£ç è¿˜åŸï¼šGit ä¸Šè®°å½•äº†ä»£ç çš„æäº¤å†…å®¹ï¼Œå¯ä»¥è¿˜åŸä»»ä¸€æ—¶é—´ç‚¹çš„ä»£ç ã€‚
- [x] ååŒå¼€å‘ï¼šå¤šäººåä½œå¼€å‘é¡¹ç›®ï¼Œé€šè¿‡ Git ååŒå¼€å‘ï¼Œè®°å½•ï¼Œåˆ†äº«æ‰€å†™ä»£ç ã€‚
- [x] è¿½æº¯ä»£ç é—®é¢˜ï¼Œç¼–å†™äººå’Œç¼–å†™æ—¶é—´

### git ç®€ä»‹

Git æ˜¯åˆ†å¸ƒå¼çš„ï¼Œä¸éœ€è¦æœ‰ä¸­å¿ƒæœåŠ¡å™¨ï¼Œæˆ‘ä»¬æ¯å°ç”µè„‘æ‹¥æœ‰çš„ä¸œè¥¿éƒ½æ˜¯ä¸€æ ·çš„ã€‚æˆ‘ä»¬ä½¿ç”¨ Git å¹¶ä¸”æœ‰ä¸ªä¸­å¿ƒæœåŠ¡å™¨ï¼Œä¸­å¿ƒæœåŠ¡å™¨å°±æ˜¯ä¸ºäº†æ–¹ä¾¿å¤§å®¶äº¤æ¢ä»£ç ã€‚æ²¡æœ‰å®ƒå¤§å®¶ä¸€æ ·å¯ä»¥å·¥ä½œï¼Œåªä¸è¿‡â€œäº¤æ¢â€ä¿®æ”¹ä¸æ–¹ä¾¿è€Œå·²ã€‚ 

<span style="color:red">Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚</span>

Git æ˜¯ Linus Torvalds ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚ åŒç”Ÿæ´»ä¸­çš„è®¸å¤šä¼Ÿå¤§äº‹ç‰©ä¸€æ ·ï¼ŒGit è¯ç”Ÿäºä¸€ä¸ªæå¯Œçº·äº‰å¤§ä¸¾åˆ›æ–°çš„å¹´ä»£ã€‚Linux å†…æ ¸å¼€æºé¡¹ç›®æœ‰ç€ä¸ºæ•°ä¼—å¤šçš„å‚ä¸è€…ã€‚ ç»å¤§å¤šæ•°çš„ Linux å†…æ ¸ç»´æŠ¤å·¥ä½œéƒ½èŠ±åœ¨äº†æäº¤è¡¥ä¸å’Œä¿å­˜å½’æ¡£çš„ç¹çäº‹åŠ¡ä¸Š (1991ï¼2002 å¹´é—´) ã€‚ åˆ° 2002 å¹´ï¼Œæ•´ä¸ªé¡¹ç›®ç»„å¼€å§‹å¯ç”¨ä¸€ä¸ªä¸“æœ‰çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ BitKeeper æ¥ç®¡ç†å’Œç»´æŠ¤ä»£ ç ã€‚ 

åˆ°äº† 2005 å¹´ï¼Œå¼€å‘ BitKeeper çš„å•†ä¸šå…¬å¸åŒ Linux å†…æ ¸å¼€æºç¤¾åŒºçš„åˆä½œå…³ç³»ç»“æŸï¼Œä»–ä»¬æ”¶å›äº† Linux å†…æ ¸ç¤¾åŒºå…è´¹ä½¿ç”¨ BitKeeper çš„æƒåŠ›ã€‚ è¿™å°±è¿«ä½¿ Linux å¼€æºç¤¾åŒº (ç‰¹åˆ«æ˜¯ Linux çš„ç¼”é€ è€… Linus Torvalds) åŸºäºä½¿ç”¨ BitKeeper æ—¶çš„ç»éªŒæ•™è®­ï¼Œå¼€å‘å‡ºè‡ªå·±çš„ç‰ˆæœ¬ç³»ç»Ÿã€‚ ä»–ä»¬å¯¹æ–°çš„ç³»ç»Ÿåˆ¶è®¢äº†è‹¥å¹²ç›®æ ‡ï¼š 

- é€Ÿåº¦
- ç®€å•çš„è®¾è®¡
- å¯¹éçº¿æ€§å¼€å‘æ¨¡å¼çš„å¼ºåŠ›æ”¯æŒ (å…è®¸æˆåƒä¸Šä¸‡ä¸ªå¹¶è¡Œå¼€å‘çš„åˆ†æ”¯)  
- å®Œå…¨åˆ†å¸ƒå¼
- æœ‰èƒ½åŠ›é«˜æ•ˆç®¡ç†ç±»ä¼¼ Linux å†…æ ¸ä¸€æ ·çš„è¶…å¤§è§„æ¨¡é¡¹ç›® (é€Ÿåº¦å’Œæ•°é‡) 

<div align="center"><img src="img/image-20211217200528119.png"></div>

### å·¥ä½œæµç¨‹å›¾

<div align="center"><img src="img/image-20211217200735238.png"></div>

> <b>å¸¸è§å‘½ä»¤å¦‚ä¸‹</b>

- clone (å…‹éš†) ï¼šä»è¿œç¨‹ä»“åº“ä¸­å…‹éš†ä»£ç åˆ°æœ¬åœ°ä»“åº“ 
- checkout  (æ£€å‡º) ï¼šä»æœ¬åœ°ä»“åº“ä¸­æ£€å‡ºä¸€ä¸ªä»“åº“åˆ†æ”¯ç„¶åè¿›è¡Œä¿®è®¢ 
- add (æ·»åŠ ) ï¼šåœ¨æäº¤å‰å…ˆå°†ä»£ç æäº¤åˆ°æš‚å­˜åŒº 
- commit (æäº¤) ï¼šæäº¤åˆ°æœ¬åœ°ä»“åº“ã€‚æœ¬åœ°ä»“åº“ä¸­ä¿å­˜ä¿®æ”¹çš„å„ä¸ªå†å²ç‰ˆæœ¬ 
- fetch (æŠ“å–) ï¼šä»è¿œç¨‹åº“ï¼ŒæŠ“å–åˆ°æœ¬åœ°ä»“åº“ï¼Œä¸è¿›è¡Œä»»ä½•çš„åˆå¹¶åŠ¨ä½œï¼Œä¸€èˆ¬æ“ä½œæ¯”è¾ƒå°‘ã€‚
- pull (æ‹‰å–) ï¼šä»è¿œç¨‹åº“æ‹‰åˆ°æœ¬åœ°åº“ï¼Œè‡ªåŠ¨è¿›è¡Œåˆå¹¶(merge)ï¼Œç„¶åæ”¾åˆ°åˆ°å·¥ä½œåŒºï¼Œç›¸å½“äº fetch+merge 
- push (æ¨é€) ï¼šä¿®æ”¹å®Œæˆåï¼Œéœ€è¦å’Œå›¢é˜Ÿæˆå‘˜å…±äº«ä»£ç æ—¶ï¼Œå°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“

## å®‰è£… git

### å¸¸è§Linuxå‘½ä»¤

- ls/ll æŸ¥çœ‹å½“å‰ç›®å½• 
- cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹ 
- touch åˆ›å»ºæ–‡ä»¶ 
- vi vim ç¼–è¾‘å™¨

### å®‰è£…

ä¸‹è½½åœ°å€ï¼š https://git-scm.com/download

å®‰è£…æ—¶ï¼šUse git from git bash only... å…¶ä»–é»˜è®¤ä¸‹ä¸€æ­¥ã€‚å®‰è£…æˆåŠŸåé¼ æ ‡ç‚¹å‡»å³é”®å¯ä»¥çœ‹åˆ°ã€‚

<img src="img/image-20211217201824831.png">

<b>å·¥å…·è¯´æ˜</b>

Git GUIï¼šGit æä¾›çš„å›¾åƒç•Œé¢å·¥å…·

Git Bashï¼šGit æä¾›çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›äº†ä¸€äº›å¸¸è§çš„ Linux å‘½ä»¤ï¼Œå¦‚ curlã€‚

å½“å®‰è£… Git åé¦–å…ˆè¦åšçš„äº‹æƒ…æ˜¯è®¾ç½®ç”¨æˆ·åç§°å’Œ email åœ°å€ã€‚æ¯æ¬¡ Git æäº¤éƒ½ä¼šä½¿ç”¨è¯¥ç”¨æˆ·ä¿¡æ¯

### åŸºæœ¬é…ç½®

- ç‚¹å‡»å³é”®==>é€‰æ‹© Git bash
- é…ç½®å…¨å±€å˜é‡ï¼Œé…ç½®ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™æ ·åœ¨æäº¤ç‰ˆæœ¬çš„æ—¶å€™å°±ä¼šè®°å½•å¥½æ˜¯è°è¿›è¡Œçš„è¿™æ¬¡æäº¤
- git config --global user.name "username" å¦‚ï¼š`git config --global user.name "csxx"`
- git config --global user.email "é‚®ç®±" å¦‚ï¼š`git config --global user.email "12312331@qq.com"`
- æŸ¥çœ‹é…ç½®ä¿¡æ¯
    - git config --global user.name
    - git config --global user.email

é™¤äº† git config --global å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„å‘½ä»¤

```sh
git config --local		# local åªå¯¹æŸä¸ªä»“åº“æœ‰æ•ˆ
git config --global		# global å¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰ä»“åº“æœ‰æ•ˆ
git config --system		# system å¯¹ç³»ç»Ÿæ‰€æœ‰ç™»å½•çš„ç”¨æˆ·æœ‰æ•ˆ
```

æ˜¾ç¤º config é…ç½®ï¼ŒåŠ  --list

```sh
git config --list 			# æŸ¥çœ‹æ‰€æœ‰çš„ config é…ç½®
git config --list --local
git config --list --global
git config --list --system
```


### ä¸ºå¸¸ç”¨æŒ‡ä»¤é…ç½®åˆ«å

æœ‰äº›å¸¸ç”¨çš„æŒ‡ä»¤å‚æ•°éå¸¸å¤šï¼Œæ¯æ¬¡éƒ½è¦è¾“å…¥å¥½å¤šå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ«åã€‚

- æ‰“å¼€ç”¨æˆ·ç›®å½•ï¼Œåˆ›å»º .bashrc æ–‡ä»¶ 

- éƒ¨åˆ† windows ç³»ç»Ÿä¸å…è®¸ç”¨æˆ·åˆ›å»ºç‚¹å·å¼€å¤´çš„æ–‡ä»¶ï¼Œå¯ä»¥æ‰“å¼€ gitBash, æ‰§è¡Œ `touch ~/.bashrc`

- åœ¨ .bashrc æ–‡ä»¶ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹


```shell
#ç”¨äºè¾“å‡ºgitæäº¤æ—¥å¿—
alias git-log='git log --pretty=oneline --all --graph --abbrev-commit'
#ç”¨äºè¾“å‡ºå½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶åŠåŸºæœ¬ä¿¡æ¯
alias ll='ls -al'
```

### Gitä¹±ç 

æ‰“å¼€ GitBash æ‰§è¡Œä¸‹é¢å‘½ä»¤

```shell
git config --global core.quotepath false 
```

åœ¨ `${git_home}/etc/bash.bashrc$`  æ–‡ä»¶åé¢åŠ å…¥ä¸‹é¢ä¸¤è¡Œ

```shell
export LANG="zh_CN.UTF-8"
export LC_ALL="zh_CN.UTF-8"
```

### é…ç½®å…å¯†ç™»å½•

é…ç½® sshï¼šå…ˆåœ¨æœ¬åœ°é…ç½®ï¼Œå‘é€ç»™è¿œç¨‹

è¾“å…¥ä»¥ä¸‹å‘½ä»¤ ssh-keygen -t rsa -C é‚®ç®± å¦‚ï¼š`ssh-keygen -t rsa -C 695466632@qq.com` ç„¶åä¸€ç›´å›è½¦

æ‰“å¼€ github ç½‘ç«™ =\=> æ‰¾åˆ° setting =\=> new ssh keyï¼Œtitleä»»æ„ï¼Œkey è¾“å…¥æœ¬åœ°ç”Ÿæˆçš„ pubkey (å…¬é’¥) , pubkey çš„å­˜æ”¾åœ°å€è¯·ä»”ç»†çœ‹ Git æ§åˆ¶å°çš„è¾“å‡ºã€‚

<img src="img/image-20220402210210816.png">

æµ‹è¯•è¿é€šæ€§ ssh -T git@github.com[å†™æ­»çš„]

æœ¬åœ°å’Œè¿œç¨‹æˆåŠŸé€šä¿¡åˆ™å¯ä»¥åœ¨ .ssh ä¸­å‘ç° known_hosts æ–‡ä»¶ï¼Œå‡ºé”™å°±å¤šè¯•å‡ æ¬¡å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜ã€‚ä¸è¡Œå°±æ£€æµ‹å»ºç«‹ ssh æ—¶è¾“å…¥çš„ pub keyã€‚

## å¸¸ç”¨å‘½ä»¤

### è·å–æœ¬åœ°ä»“åº“

- åœ¨ç”µè„‘çš„ä»»æ„ä½ç½®åˆ›å»ºä¸€ä¸ªç©ºç›®å½• (ä¾‹å¦‚ test) ä½œä¸ºæˆ‘ä»¬çš„æœ¬åœ° Git ä»“åº“
- è¿›å…¥è¿™ä¸ªç›®å½•ä¸­ï¼Œç‚¹å‡»å³é”®æ‰“å¼€ Git bash çª—å£                                           
- æ‰§è¡Œå‘½ä»¤ git init 
- å¦‚æœåˆ›å»ºæˆåŠŸåå¯åœ¨æ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°éšè—çš„ .git ç›®å½•ã€‚

```shell
$ git init
Initialized empty Git repository in D:/front/.git/
```

### åŸºç¡€æ“ä½œæŒ‡ä»¤

Git å·¥ä½œç›®å½•ä¸‹å¯¹äºæ–‡ä»¶çš„<b>ä¿®æ”¹</b>(å¢åŠ ã€åˆ é™¤ã€æ›´æ–°)ä¼šå­˜åœ¨å‡ ä¸ªçŠ¶æ€ï¼Œè¿™äº›<b>ä¿®æ”¹</b>çš„çŠ¶æ€ä¼šéšç€æˆ‘ä»¬æ‰§è¡Œ Git çš„å‘½ä»¤è€Œå‘ç”Ÿå˜åŒ–ã€‚

<img src="img/image-20220118144908667.png">

ä½¿ç”¨å‘½ä»¤æ¥æ§åˆ¶è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬æ¢

- â‘  git add (å·¥ä½œåŒº â€”> æš‚å­˜åŒº)ï¼ŒæŠŠé¡¹ç›®æ–‡ä»¶çº³å…¥ git çš„ç®¡ç†ã€‚ä¾‹å¦‚æœ¬åœ°å†™äº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œå…ˆæäº¤åˆ°æš‚å­˜åŒºï¼›ç„¶åå†™äº†ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œå‘ç°ç‰ˆæœ¬ä¸€æ›´ä½³ï¼Œæ­¤æ—¶å¯ä»¥æŠŠç‰ˆæœ¬ä¸€å›é€€åˆ°æœ¬åœ°ï¼Œç„¶åæäº¤åˆ°ä»“åº“ã€‚
- â‘¡ git commit (æš‚å­˜åŒº â€”> æœ¬åœ°ä»“åº“)

#### status æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€

- ä½œç”¨ï¼šæŸ¥çœ‹ä¿®æ”¹çš„çŠ¶æ€ (æš‚å­˜åŒºã€å·¥ä½œåŒº) 
- å‘½ä»¤å½¢å¼ï¼š`git status`

#### add æ·»åŠ å·¥ä½œåˆ°æš‚å­˜åŒº

- ä½œç”¨ï¼šæ·»åŠ å·¥ä½œåŒºä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶çš„ä¿®æ”¹åˆ°æš‚å­˜åŒº
- åœºæ™¯ä¸¾ä¾‹ï¼šæˆ‘ä»¬éœ€è¦ä¿®æ”¹å¤šä¸ªæ–‡ä»¶ä»¥è¾¾æˆä¸€ä¸ªç›®çš„ï¼Œå¯ä»¥é€ä¸ªä¿®æ”¹ï¼Œä¿®æ”¹å¥½ä¸€ä¸ªåå°±æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå½“è¯¥åŠŸèƒ½çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä»¥ä¿®æ”¹å®Œæ¯•åˆ™ç»Ÿä¸€æäº¤åˆ°ç‰ˆæœ¬åº“ã€‚
- å‘½ä»¤å½¢å¼ï¼šgit add å•ä¸ªæ–‡ä»¶å|é€šé…ç¬¦

```shell
git add file.txt # æ·»åŠ å•ä¸ªæ–‡ä»¶
git add . # å°†æ‰€æœ‰æ–°å»ºçš„æ–‡ä»¶ å’Œ ä¿®æ”¹çš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº
```

<img src="img/image-20220402212133694.png">

Changes to be committed å³å°†è¢«æäº¤ï¼Œè¿›å…¥äº†æš‚å­˜åŒºã€‚

```shell
git add -u		# æ•´ä¸ªå·¥ä½œæ ‘ä¸­çš„æ‰€æœ‰è·Ÿè¸ªæ–‡ä»¶éƒ½å°†æ›´æ–°
```

#### commit æäº¤æš‚å­˜åŒºåˆ°æœ¬åœ°ä»“åº“

- ä½œç”¨ï¼šæäº¤æš‚å­˜åŒºå†…å®¹åˆ°æœ¬åœ°ä»“åº“çš„å½“å‰åˆ†æ”¯
- å‘½ä»¤å½¢å¼ï¼šgit commit -m â€˜æ³¨é‡Šå†…å®¹â€™

```shell
git commit -m "add test.md"
git commit -am 'add xxx'  # add å’Œ commit ä¸€èµ·æ‰§è¡Œã€‚ä½†æ˜¯ä¸æ¨èä½¿ç”¨ã€‚è¿™ç§åšæ³•å·¥ä½œåŒºçš„å†…å®¹ç›´æ¥æ·»åŠ åˆ°äº†ç‰ˆæœ¬å†å²åº“é‡Œäº†ã€‚
```

<img src="img/image-20220402212416934.png">

commit åï¼Œå†æ¬¡æŸ¥çœ‹çŠ¶æ€ï¼Œæš‚å­˜åŒºä¸­å·²ç»æ²¡æœ‰ä¸œè¥¿äº†ã€‚

#### æ–‡ä»¶é‡å‘½å

åŠ å…¥æˆ‘ä»¬æƒ³å¯¹å·²ç»åŠ å…¥ä»“åº“çš„æ–‡ä»¶è¿›è¡Œé‡å‘½åï¼ˆreadme ä¿®æ”¹ä¸º readme.mdï¼‰ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ

<b>æ–¹å¼ä¸€ï¼š</b>ç›´æ¥ç”¨ mv å¯¹æ–‡ä»¶é‡å‘½åã€‚ä½†æ˜¯ä¼šå‡ºç°ä¸‹é¢çš„æƒ…å†µã€‚git status å˜ä¸ºåˆ é™¤äº† readme æ–‡ä»¶ï¼Œç„¶åæ–°å¢äº†ä¸€ä¸ªæœªè¿½è¸ªçš„æ–‡ä»¶ readme.mdã€‚

ä¸‹é¢çš„æ‰§è¡Œæµç¨‹å±•ç¤ºäº†æ•´ä¸ªæ“ä½œçš„è¿‡ç¨‹ã€‚å¯ä»¥çœ‹å‡ºï¼Œgit æ˜¯çŸ¥é“æˆ‘ä»¬è¿›è¡Œæ–‡ä»¶é‡å‘½åçš„ï¼Œä½†æ˜¯æ“ä½œæµç¨‹å´æ¯”è¾ƒç¹çã€‚

```shell
git init
Initialized empty Git repository in xxx
touch readme
git add readme
git commit -m"add readme"
[master (root-commit) 2327a82] add readme
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 readme
mv readme readme.md
git status
On branch master
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

        deleted:    readme

Untracked files:
  (use "git add <file>..." to include in what will be committed)

        readme.md

no changes added to commit (use "git add" and/or "git commit -a")
git add readme.md
git rm readme
rm 'readme'
git status
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

        renamed:    readme -> readme.md
```

git reset --hard æš‚å­˜åŒºä¸­æ‰€æœ‰çš„å·¥ä½œå˜æ›´éƒ½ä¼šè¢«æ¸…ç†æ‰ã€‚(åªä¼šæ¸…ç©ºæš‚å­˜åŒºçš„æäº¤ï¼Œå¯¹ commit æ— ä»»ä½•å½±å“)

åˆšåˆšä¸Šé¢ç¹ççš„æ–‡ä»¶åå˜æ›´è¿‡ç¨‹å¯ä»¥ç”¨è¿™æ¡å‘½ä»¤æ›¿ä»£ï¼š`git mv readme readme.md`

```shell
git mv readme readme.md
git status
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)
        renamed:    readme -> readme.md

git commit -m "mv readme to readme.md"
[master e003077] mv readme to readme.md
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename readme => readme.md (100%)
```

### æŸ¥çœ‹æäº¤æ—¥å¿—ï¼ˆlogï¼‰

- é…ç½®çš„åˆ«å git-log å°±åŒ…å«äº†è¿™äº›å‚æ•°ï¼Œæ‰€ä»¥åç»­å¯ä»¥ç›´æ¥ä½¿ç”¨æŒ‡ä»¤ git-log
- ä½œç”¨ï¼šæŸ¥çœ‹æäº¤è®°å½•
- å‘½ä»¤å½¢å¼ï¼šgit log [option] æˆ–è€… git-log
    - `git log --oneline`ï¼Œç®€è¦çš„æ˜¾ç¤ºæ¯ä¸ª logï¼Œæ¯ä¸ª log ä»…å ä¸€è¡Œã€‚
    - `git log -n2 --oneline`ï¼Œåªæ˜¾ç¤ºæœ€è¿‘çš„ä¸¤æ¡ logï¼Œæ¯ä¸ª log ä»…å ä¸€è¡Œã€‚
    - `git log --all` æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯çš„ log
    - `git log --all --graph` ç”¨å›¾å½¢åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯çš„ log
    - `git log --all --oneline -n4 --graph` ç”¨å›¾å½¢åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯çš„å‰ 4 ä¸ª logã€‚
    - `git log --pretty=oneline` å°†æäº¤ä¿¡æ¯æ˜¾ç¤ºä¸ºä¸€è¡Œ
    - `git log --abbrev-commit` ä½¿å¾—è¾“å‡ºçš„ commitId æ›´ç®€çŸ­


<img src="img/image-20220402212637414.png">

git log æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°æäº¤è®°å½•ï¼Œè°ï¼Ÿä»€ä¹ˆæ—¶é—´æ®µæäº¤çš„å†…å®¹ã€‚

<img src="img/image-20220402212913095.png">

git branch -vï¼ŒæŸ¥çœ‹æœ¬åœ°åˆ°åº•æœ‰å¤šå°‘åˆ†æ”¯

```shell
git branch -v
* master e003077 mv readme to readme.md

# ä¸ºäº†æ¼”ç¤º log çš„æ›´å¤šç”¨æ³•ï¼Œè¿™é‡Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„åˆ†æ”¯
# é¢å¤–åŠ å‡ ä¸ª commit æ“ä½œ
git log --oneline
0ccac2a (HEAD -> master) add tmp2 file
5ae0216 add tmp file
e003077 mv readme to readme.md
2327a82 add readme

# åˆ›å»ºä¸´æ—¶åˆ†æ”¯
git checkout -b temp 5ae0216

git branch -v
  master 0ccac2a add tmp2 file
* temp   5ae0216 add tmp file
```

### ç‰ˆæœ¬å›é€€ï¼ˆresetï¼‰

- ä½œç”¨ï¼šç‰ˆæœ¬åˆ‡æ¢
- å‘½ä»¤å½¢å¼

```shell
# commitID å¯ä»¥ä½¿ç”¨ git-log æˆ– git log æŒ‡ä»¤æŸ¥çœ‹
git reset --hard commitID 
```

<img src="img/image-20220402213338655.png">

èƒ½ä¸èƒ½å†å›åˆ°å›é€€å‰çš„ç‰ˆæœ¬å‘¢ï¼Ÿå¯ä»¥çš„ï¼Œåªè¦è®°å¾— commit id å°±è¡Œã€‚

<img src="img/image-20220402213859424.png">

å¯ä»¥å‘ç° git log æŸ¥ä¸å‡ºæ¥ obb6 è¿™ä¸ª id äº†ã€‚å¦‚æœä¹‹å‰æˆ‘ä»¬æ²¡æœ‰è®°ä½è¿™ä¸ª idï¼Œæ˜¯ä¸æ˜¯å°±ä¸èƒ½æ¢å¤äº†ï¼Ÿä¸æ˜¯çš„ã€‚å¯ä»¥ç”¨ git reflog æ¥æŸ¥çœ‹ã€‚

git reflogï¼ŒæŠŠæ‰€æœ‰çš„æ“ä½œè®°å½•ä¸‹æ¥äº†ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»åˆ é™¤çš„æäº¤è®°å½•ã€‚<span style="color:red">git reflog æ˜¯ç”¨æ¥æ¢å¤æœ¬åœ°é”™è¯¯æ“ä½œå¾ˆé‡è¦çš„ä¸€ä¸ªå‘½ä»¤ã€‚</span>

<img src="img/image-20220402214424143.png">

<b>ç»ƒä¹ </b>

```shell
#####################ä»“åº“åˆå§‹åŒ–###################### 
# åˆ›å»ºç›®å½• (git_test01) å¹¶åœ¨ç›®å½•ä¸‹æ‰“å¼€gitbash 
# åˆå§‹åŒ–gitä»“åº“ 
git init 

#####################åˆ›å»ºæ–‡ä»¶å¹¶æäº¤##################### 
# ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ file01.txt 
# å°†ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº 
git add . 
# å°†ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œæäº¤è®°å½•å†…å®¹ä¸ºï¼šcommit 001 
git commit -m 'commit 001' 
# æŸ¥çœ‹æ—¥å¿— 
git log 

####################ä¿®æ”¹æ–‡ä»¶å¹¶æäº¤###################### 
# ä¿®æ”¹file01çš„å†…å®¹ä¸ºï¼šcount=1 
# å°†ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº 
git add . 
# # å°†ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œæäº¤è®°å½•å†…å®¹ä¸ºï¼šupdate file01 
git commit --m 'update file01' 
# æŸ¥çœ‹æ—¥å¿— 
git log 
# ä»¥ç²¾ç®€çš„æ–¹å¼æ˜¾ç¤ºæäº¤è®°å½• git-log æ˜¯é…ç½®çš„åˆ«å
git-log 

####################å°†æœ€åä¸€æ¬¡ä¿®æ”¹è¿˜åŸ################## 
# æŸ¥çœ‹æäº¤è®°å½• 
git-log 
# æ‰¾åˆ°å€’æ•°ç¬¬2æ¬¡æäº¤çš„commitID 
# ç‰ˆæœ¬å›é€€ 
git reset commitID --hard
```

### æ–‡ä»¶è¯´æ˜ï¼ˆ.gitï¼‰

#### ç›®å½•è¯´æ˜

.git æ–‡ä»¶ä¸­åŒ…å«è®¸å¤šä¿¡æ¯

```shell
ls -al
total 56
drwxr-xr-x  8 payphone payphone 4096 Mar 28 14:30 .
drwxr-xr-x  3 payphone payphone 4096 Mar 28 14:27 ..
-rw-r--r--  1 payphone payphone   15 Mar 28 14:30 COMMIT_EDITMSG
-rw-r--r--  1 payphone payphone   21 Mar 28 14:26 HEAD
-rw-r--r--  1 payphone payphone   41 Mar 28 14:09 ORIG_HEAD
drwxr-xr-x  2 payphone payphone 4096 Mar 28 11:34 branches
-rw-r--r--  1 payphone payphone   92 Mar 28 11:34 config
-rw-r--r--  1 payphone payphone   73 Mar 28 11:34 description
drwxr-xr-x  2 payphone payphone 4096 Mar 28 11:34 hooks
-rw-r--r--  1 payphone payphone  209 Mar 28 14:30 index
drwxr-xr-x  2 payphone payphone 4096 Mar 28 11:34 info
drwxr-xr-x  3 payphone payphone 4096 Mar 28 11:34 logs
drwxr-xr-x 14 payphone payphone 4096 Mar 28 14:30 objects
drwxr-xr-x  4 payphone payphone 4096 Mar 28 11:34 refs
```

- HEADï¼Œä¸€ä¸ªæŒ‡å‘åˆ†æ”¯çš„å¼•ç”¨ï¼Œå‘Šè¯‰æˆ‘ä»¬ç°åœ¨å·¥ä½œåœ¨é‚£ä¸ªåˆ†æ”¯ä¸Šã€‚

```shell
cat HEAD
ref: refs/heads/temp
```

- config ä¸€äº›æœ¬ä»“åº“çš„é…ç½®ä¿¡æ¯

```shell
cat config
[core]
        repositoryformatversion = 0
        filemode = true
        bare = false
        logallrefupdates = true
```

- refsï¼Œå­˜å‚¨æŒ‡å‘æ•°æ®ï¼ˆåˆ†æ”¯ã€æ ‡ç­¾ï¼‰çš„æäº¤å¯¹è±¡çš„æŒ‡é’ˆçš„ç›®å½•ã€‚å³ï¼Œrefs ä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆã€‚
    - heads å¯¹äºåˆ†æ”¯ï¼Œmaster ä¸­å­˜å‚¨çš„æ˜¯ master æŒ‡é’ˆæŒ‡å‘é‚£ä¸ª commit
    - tags æ˜¯æ ‡ç­¾ï¼Œtags ä¸­å­˜å‚¨çš„æ˜¯å„ç§ tagï¼Œtag ä¸­å­˜å‚¨çš„æ˜¯ tag æŒ‡é’ˆæŒ‡å‘çš„é‚£ä¸ª å“ˆå¸Œå€¼ï¼Œè€Œå“ˆå¸Œå€¼ä¸­å­˜å‚¨çš„æ˜¯ Objectï¼Œè¿™ä¸ª Object å¯¹è±¡æ˜¯ commitã€‚
    - git cat-file -t å“ˆå¸Œå€¼ï¼ŒæŸ¥çœ‹ç±»å‹
    - git cat-file -p å“ˆå¸Œå€¼ï¼ŒæŸ¥çœ‹å†…å®¹

```shell
.git/refs$ tree
.
â”œâ”€â”€ heads
â”‚Â Â  â”œâ”€â”€ master
â”‚Â Â  â””â”€â”€ temp
â””â”€â”€ tags

cat master
0ccac2a08996bae2bdf94c3dc0fb1b820836262e
git cat-file -t  0ccac2
commit
```

#### å¯¹è±¡è¯´æ˜

git ä¸­æœ‰ä¸‰ç§å¯¹è±¡ï¼Œcommitã€blobã€treeã€‚

åªè¦ä»»ä½•æ–‡ä»¶çš„æ–‡ä»¶å†…å®¹ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å”¯ä¸€çš„ blobï¼ŒèŠ‚çœç£ç›˜ç©ºé—´å’Œç‰ˆæœ¬ç®¡ç†çš„å¼€é”€==>åªåŒæ­¥ä¸åŒçš„å†…å®¹ã€‚

commit åŒ…å« treeï¼Œtree åŒ…å« blob

```shell
# æŸ¥çœ‹å‰3æ¡è®°å½•
git log -n3 --oneline
861ca4e (HEAD -> temp) modify tmp.txt
5ae0216 add tmp file
e003077 mv readme to readme.md

# æŸ¥çœ‹æ–‡ä»¶å†…å®¹
git cat-file -p 5ae0216
tree 8726bf4f81fad6a51d32716c1407660b35205990
parent e00307759f3af0a68347df402f58b17e244db52f
author csliujw <695466632@qq.com> 1679984731 +0800
committer csliujw <695466632@qq.com> 1679984731 +0800

add tmp file

# æŸ¥çœ‹ tree çš„å†…å®¹
git cat-file -p 8726bf4
100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    readme.md
100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    tmp.txt

# æŸ¥çœ‹ blob çš„å†…å®¹
git cat-file -p e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
```

æ–°çš„ä¸œè¥¿åŠ å…¥åˆ°æš‚å­˜åŒºï¼Œgit å°±ä¼šä¸»åŠ¨æŠŠæš‚å­˜åŒºçš„ä¸œè¥¿åˆ›å»ºå‡º blobã€‚`.git/objects` ä¸­ä¼šæœ‰ä¸€ä¸ªå¯¹è±¡ã€‚å½“æŠŠæš‚å­˜åŒºçš„å†…å®¹æäº¤åˆ°ä»“åº“æ—¶ä¼šåˆ›å»ºå¤šä¸ªå¯¹è±¡ã€‚å…·ä½“çš„å†…å®¹å¯ä»¥è‡ªè¡Œåˆ›å»ºæ–‡ä»¶ï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºåå» objects ç›®å½•çœ‹å¤šäº†é‚£äº›ã€‚commit åæœ‰å¤šäº†é‚£äº›ã€‚å¤šå‡ºçš„å¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹æ˜¯ä»€ä¹ˆã€‚

### åˆ†ç¦»å¤´æŒ‡é’ˆï¼ˆHEADï¼‰

git checkout xx

```shell
git checkout 5ae0216
Note: checking out '5ae0216'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 5ae0216 add tmp file
```

åœ¨åˆ†ç¦»å¤´æŒ‡é’ˆæƒ…å†µä¸‹ï¼Œå¯ä»¥ç»§ç»­åšå¼€å‘ï¼Œç»§ç»­äº§ç”Ÿ commitï¼Œä¸”ä¸ä¼šå¯¹å…¶ä»–åˆ†æ”¯æœ‰å½±å“ã€‚åˆ†ç¦»å¤´æŒ‡é’ˆçš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬å·¥ä½œåœ¨ä¸€ä¸ªæ²¡æœ‰åˆ†æ”¯çš„çŠ¶æ€ä¸‹ï¼Œåšçš„ commitã€å˜æ›´æ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–åˆ†æ”¯çš„ã€‚

æƒ³åšå˜æ›´ï¼Œå½“æ—¶åªæ˜¯å°è¯•æ€§çš„å˜æ›´ï¼Œåšçš„ä¸å¥½æƒ³æ‰”æ‰ã€‚æ‰”æ‰çš„åŠæ³•å°±æ˜¯åé¢ä¸å†ç†ä¼šè¿™äº›å˜æ›´ã€‚è¿™æ—¶å€™ checkout åˆ°æ–°çš„åˆ†æ”¯å°±å¯ä»¥äº†ã€‚

æ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨ tmp ä¸­åŠ å†…å®¹ã€‚

```shell
ls -al
total 12
drwxr-xr-x 3 payphone payphone 4096 Mar 28 16:12 .
drwxr-xr-x 3 payphone payphone 4096 Mar 28 11:23 ..
drwxr-xr-x 8 payphone payphone 4096 Mar 28 16:12 .git
-rw-r--r-- 1 payphone payphone    0 Mar 28 14:09 readme.md
-rw-r--r-- 1 payphone payphone    0 Mar 28 16:12 tmp.txt

# ä¿®æ”¹ tmp
vi tmp.txt

# æŸ¥çœ‹çŠ¶æ€
git status
HEAD detached at 5ae0216
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   tmp.txt

no changes added to commit (use "git add" and/or "git commit -a")

# æäº¤ä¿®æ”¹
git commit -am'attach head'
[detached HEAD f80e735] attach head
 1 file changed, 1 insertion(+)

# æŸ¥çœ‹æ—¥å¿—
git log --graph
* commit f80e7354548b70e4ce9ce2b87b894adba2b6077d (HEAD)  # ä»¥å‰ HEAD å’Œ åˆ†æ”¯æ€»æ˜¯ä¸€èµ·å‡ºç°çš„ï¼Œè¿™æ¬¡è¿™é‡Œåªæœ‰ HEADï¼Œæ²¡æœ‰åˆ†æ”¯äº†ã€‚
| Author: csliujw <695466632@qq.com>
| Date:   Tue Mar 28 16:15:38 2023 +0800
|
|     attach head
|
* commit 5ae0216024762e8c7d2c6d7df2d9e465e975895b
| Author: csliujw <695466632@qq.com>
| Date:   Tue Mar 28 14:25:31 2023 +0800
|
|     add tmp file
|
* commit e00307759f3af0a68347df402f58b17e244db52f
| Author: csliujw <695466632@qq.com>
| Date:   Tue Mar 28 14:13:42 2023 +0800
|
|     mv readme to readme.md
|
* commit 2327a82dc944915e1a00d5393f303dad29df1f5e
  Author: csliujw <695466632@qq.com>
  Date:   Tue Mar 28 11:34:50 2023 +0800

      add readme

# å¦‚æœæˆ‘ä»¬çªç„¶åˆ‡æ¢å‡ºå»ï¼Œé‚£ä¹ˆè¿™æ¬¡çš„æäº¤å°±ä¼šä¸¢æ‰ã€‚
git checkout master
Warning: you are leaving 1 commit behind, not connected to
any of your branches:

  f80e735 attach head

If you want to keep it by creating a new branch, this may be a good time
to do so with:
	git branch <new-branch-name> f80e735
	
# å¦‚æœæƒ³è¦ä¿å­˜ï¼Œå°±æŒ‰æç¤ºèµ°
```



### æ“ä½œåˆ†æ”¯ï¼ˆbranchï¼‰

å‡ ä¹æ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥è¿›è¡Œé‡å¤§çš„ Bug ä¿®æ”¹ã€å¼€å‘æ–°çš„åŠŸèƒ½ï¼Œä»¥å…å½±å“å¼€å‘ä¸»çº¿ã€‚

#### æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯

- å‘½ä»¤ï¼šgit branch

#### åˆ›å»ºæœ¬åœ°åˆ†æ”¯

- å‘½ä»¤ï¼šgit branch åˆ†æ”¯å

#### åˆ‡æ¢åˆ†æ”¯

- å‘½ä»¤ï¼šgit checkout åˆ†æ”¯å

æˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥åˆ‡æ¢åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„åˆ†æ”¯ (åˆ›å»ºå¹¶åˆ‡æ¢) 

- å‘½ä»¤ï¼šgit checkout -b åˆ†æ”¯å

#### æ‹·è´ç°æœ‰åˆ†æ”¯

æˆ‘ä»¬å¯ä»¥æ ¹æ®ç°æœ‰çš„åˆ†æ”¯åˆ›å»ºå‡ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚

`git branch copy master`

`git checkout -b copy2 master`

#### åˆå¹¶åˆ†æ”¯

ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„æäº¤å¯ä»¥åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ã€‚æ¯”å¦‚ master åˆ†æ”¯ä¸­æœ‰ demo.md æ–‡ä»¶ï¼Œdev åˆ†æ”¯æœ‰ publish.md æ–‡ä»¶ï¼Œæœ€ç»ˆè¿™ä¸¤ä¸ªæ–‡ä»¶éœ€è¦åˆå¹¶åˆ°ä¸€ä¸ªåˆ†æ”¯ä¸­å»ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨ git merge è¿›è¡Œåˆ†æ”¯åˆå¹¶ã€‚

å‘½ä»¤ï¼šgit merge åˆ†æ”¯åç§°

<img src="img/image-20220402220155943.png">

å‡å®šåˆå¹¶åçš„å†…å®¹å¦‚ä¸‹

```cpp
<<<<<<< HEAD
hello world test main branch
=======
hello world test I am test branch
>>>>>>> test
```

```shell
<<<<<<< HEAD
hello world test main branch
=======
# ä¸Šé¢çš„è¡¨ç¤ºæ˜¯ä¸»åˆ†æ”¯çš„å†…å®¹

# ä¸‹é¢çš„æ˜¯ test åˆ†æ”¯å’Œä¸»åˆ†æ”¯ä¸ä¸€è‡´çš„å†…å®¹ï¼Œé€‰æ‹©ä¸€ä¸ªè¿›è¡Œä¿ç•™å³å¯ã€‚
hello world test I am test branch
>>>>>>> test
```

#### åˆ é™¤åˆ†æ”¯

ä¸èƒ½åˆ é™¤å½“å‰åˆ†æ”¯ï¼Œåªèƒ½åˆ é™¤å…¶ä»–åˆ†æ”¯

git branch -d b1 åˆ é™¤åˆ†æ”¯æ—¶ï¼Œéœ€è¦åšå„ç§æ£€æŸ¥

git branch -D b1 ä¸åšä»»ä½•æ£€æŸ¥ï¼Œå¼ºåˆ¶åˆ é™¤

#### ä¿®æ”¹æäº¤çš„msg

å¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹ msg çš„æœ€æ–°æäº¤ï¼Œå¯ä»¥ç”¨ `git commit --amend` å‘½ä»¤æ¥ä¿®æ”¹ msgã€‚

å¦‚æœæƒ³ä¿®æ”¹å…ˆå‰ commit çš„ msgï¼Œå¯ä»¥ä½¿ç”¨ [rebase](##å˜åŸºï¼ˆrebaseï¼‰)

#### è§£å†³å†²çª

å½“ä¸¤ä¸ªåˆ†æ”¯ä¸Šå¯¹æ–‡ä»¶çš„ä¿®æ”¹å¯èƒ½ä¼šå­˜åœ¨å†²çªï¼Œä¾‹å¦‚åŒæ—¶ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€è¡Œï¼Œè¿™æ—¶å°±éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œè§£å†³å†²çªæ­¥éª¤å¦‚ä¸‹ï¼š

â‘ å¤„ç†æ–‡ä»¶ä¸­å†²çªçš„åœ°æ–¹

â‘¡å°†è§£å†³å®Œå†²çªçš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº (add)

â‘¢æäº¤åˆ°ä»“åº“ (commit)

å†²çªéƒ¨åˆ†çš„å†…å®¹å¤„ç†å¦‚ä¸‹æ‰€ç¤ºï¼š

dev åˆ†æ”¯ä¸­ test.md çš„å†…å®¹æ˜¯ devï¼Œmaster åˆ†æ”¯ä¸­çš„ test.md çš„å†…å®¹æ˜¯ masterã€‚åˆå¹¶çš„æ—¶å€™ä¼šå‘ç”Ÿå†²çªã€‚ 

<img src="img/image-20220402221020611.png">

å†²çªçš„å†…å®¹å¯ä»¥å† test.md ä¸­çœ‹åˆ°

```text
<<<<<<< HEAD
master
=======
dev
>>>>>>> dev
```

åˆ é™¤æ‰ä¸€äº›å†…å®¹å³å¯ï¼Œç„¶å `git add .`

```text
master
```

<img src="img/image-20220402221545513.png">

#### ä½¿ç”¨åŸåˆ™ä¸æµç¨‹

å‡ ä¹æ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥è¿›è¡Œé‡å¤§çš„ Bug ä¿®æ”¹ã€å¼€å‘æ–°çš„åŠŸèƒ½ï¼Œä»¥å…å½±å“å¼€å‘ä¸»çº¿ã€‚

åœ¨å¼€å‘ä¸­ï¼Œä¸€èˆ¬æœ‰å¦‚ä¸‹åˆ†æ”¯ä½¿ç”¨åŸåˆ™ä¸æµç¨‹ï¼š

- master (ç”Ÿäº§) åˆ†æ”¯ï¼šçº¿ä¸Šåˆ†æ”¯ï¼Œä¸»åˆ†æ”¯ï¼Œä¸­å°è§„æ¨¡é¡¹ç›®ä½œä¸ºçº¿ä¸Šè¿è¡Œçš„åº”ç”¨å¯¹åº”çš„åˆ†æ”¯ï¼›
- develop (å¼€å‘) åˆ†æ”¯ï¼šæ˜¯ä» master åˆ›å»ºçš„åˆ†æ”¯ï¼Œä¸€èˆ¬ä½œä¸ºå¼€å‘éƒ¨é—¨çš„ä¸»è¦å¼€å‘åˆ†æ”¯ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–å¹¶è¡Œå¼€å‘ä¸åŒæœŸä¸Šçº¿è¦æ±‚ï¼Œéƒ½å¯ä»¥åœ¨æ­¤ç‰ˆæœ¬è¿›è¡Œå¼€å‘ï¼Œé˜¶æ®µå¼€å‘å®Œæˆåï¼Œéœ€è¦æ˜¯åˆå¹¶åˆ° master åˆ†æ”¯ï¼Œå‡†å¤‡ä¸Šçº¿ã€‚
- feature/xxxx åˆ†æ”¯ï¼šä» develop åˆ›å»ºçš„åˆ†æ”¯ï¼Œä¸€èˆ¬æ˜¯åŒæœŸå¹¶è¡Œå¼€å‘ï¼Œä½†ä¸åŒæœŸä¸Šçº¿æ—¶åˆ›å»ºçš„åˆ†æ”¯ï¼Œåˆ†æ”¯ä¸Šçš„ç ”å‘ä»»åŠ¡å®Œæˆååˆå¹¶åˆ° develop åˆ†æ”¯ã€‚
- hotfifix/xxxxåˆ†æ”¯ï¼šä» master æ´¾ç”Ÿçš„åˆ†æ”¯ï¼Œä¸€èˆ¬ä½œä¸ºçº¿ä¸Š bug ä¿®å¤ä½¿ç”¨ï¼Œä¿®å¤å®Œæˆåéœ€è¦åˆå¹¶åˆ° masterã€testã€develop åˆ†æ”¯ã€‚
- è¿˜æœ‰ä¸€äº›å…¶ä»–åˆ†æ”¯ï¼Œåœ¨æ­¤ä¸å†è¯¦è¿°ï¼Œä¾‹å¦‚ test åˆ†æ”¯ (ç”¨äºä»£ç æµ‹è¯•) ã€pre åˆ†æ”¯ (é¢„ä¸Šçº¿åˆ†æ”¯) ç­‰ç­‰ã€‚

<img src="img/image-20220118170619389.png">

#### ç»ƒä¹ 

```shell
###########################åˆ›å»ºå¹¶åˆ‡æ¢åˆ°dev01åˆ†æ”¯ï¼Œåœ¨dev01åˆ†æ”¯æäº¤ 
# [master]åˆ›å»ºåˆ†æ”¯dev01
git branch dev01 
# [master]åˆ‡æ¢åˆ°dev01
git checkout dev01 
# [dev01]åˆ›å»ºæ–‡ä»¶file02.txt 
# [dev01]å°†ä¿®æ”¹åŠ å…¥æš‚å­˜åŒºå¹¶æäº¤åˆ°ä»“åº“,æäº¤è®°å½•å†…å®¹ä¸ºï¼šadd file02 on dev 
git add . git commit -m 'add file02 on dev' 
# [dev01]ä»¥ç²¾ç®€çš„æ–¹å¼æ˜¾ç¤ºæäº¤è®°å½• git-log ###########################åˆ‡æ¢åˆ°masteråˆ†æ”¯ï¼Œå°†dev01åˆå¹¶åˆ°masteråˆ†æ”¯ 
# [dev01]åˆ‡æ¢åˆ°masteråˆ†æ”¯ 
git checkout master 
# [master]åˆå¹¶dev01åˆ°masteråˆ†æ”¯ 
git merge dev01 
# [master]ä»¥ç²¾ç®€çš„æ–¹å¼æ˜¾ç¤ºæäº¤è®°å½• 
git-log 
# [master]æŸ¥çœ‹æ–‡ä»¶å˜åŒ–(ç›®å½•ä¸‹ä¹Ÿå‡ºç°äº†file02.txt) ##########################åˆ é™¤dev01åˆ†æ”¯ 
# [master]åˆ é™¤dev01åˆ†æ”¯ 
git branch -d dev01 
# [master]ä»¥ç²¾ç®€çš„æ–¹å¼æ˜¾ç¤ºæäº¤è®°å½• 
git-log
```

### å˜åŸºï¼ˆrebaseï¼‰

- æˆ‘ä»¬å¯ä»¥ç”¨ rebase ä¿®æ”¹ä¹‹å‰ commit çš„ msg
- ä¹Ÿå¯ä»¥ç”¨ rebase æŠŠè¿ç»­çš„ commit åˆå¹¶æˆä¸€ä¸ªã€‚
- ä¹Ÿå¯ä»¥ç”¨ rebase æŠŠä¸è¿ç»­çš„ commit åˆå¹¶æˆä¸€ä¸ªã€‚

ä¸è¿‡åœ¨è®²è§£ä¹‹å‰éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ rebase ç”¨åœ¨è‡ªå·±è´Ÿè´£çš„åˆ†æ”¯ä¸Šï¼Œä½†æ˜¯å¦‚æœåˆ†æ”¯å·²ç»è¢«åˆå¹¶äº†ï¼Œè¢«å…¶ä»–äººæ‰€ä¾èµ–ï¼Œå°±ä¸è¦è½»æ˜“ rebase äº†ï¼ˆä¼šæ‰“ä¹±åˆ«äººçš„å¼€å‘ï¼‰ ã€‚

<b>åœ¨ä½¿ç”¨ rebase å‰ï¼Œå…ˆé˜…è¯»ä¸‹ rebase ç›¸å…³çš„æ–‡æ¡£ã€‚</b>

```shell
# Rebase e95f195..e95f195 onto e95f195 (1 command)
#
# Commands:
# p, pick <commit> = use commit												===> ä½¿ç”¨ commit
# r, reword <commit> = use commit, but edit the commit message				===> ä½¿ç”¨ commit, å†…å®¹ä¿æŒä¸å˜ä½†æ˜¯ä¿®æ”¹ message
# e, edit <commit> = use commit, but stop for amending						
# s, squash <commit> = use commit, but meld into previous commit			===> ä½¿ç”¨ commit, ä½†æ˜¯æŠŠ s æ ‡è®°çš„éƒ½åˆå¹¶åˆ°å‰ä¸€ä¸ª commit
# f, fixup [-C | -c] <commit> = like "squash" but keep only the previous
#                    commit's log message, unless -C is used, in which case
#                    keep only this commit's message; -c is same as -C but
#                    opens the editor
# x, exec <command> = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with 'git rebase --continue')
# d, drop <commit> = remove commit
# l, label <label> = label current HEAD with a name
# t, reset <label> = reset HEAD to a label
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
# .       create a merge commit using the original merge commit's
# .       message (or the oneline, if no original merge commit was
# .       specified); use -c <commit> to reword the commit message
```

#### ä¿®æ”¹ msg

<b>ä¿®æ”¹ä¹‹å‰ commit çš„ msg</b>

å¦‚æœæƒ³ä¿®æ”¹å½“å‰ commit çš„ msg æˆ‘ä»¬å¯ä»¥ç”¨ `git commit --amend`ï¼Œå¦‚æœæƒ³ä¿®æ”¹ä¹‹å‰è®°å½•çš„ msg å‘¢ï¼Ÿå¯ä»¥ç”¨ rebaseï¼Œ`git rebase -i é€‰æ‹©éœ€è¦å˜æ›´æäº¤çš„çˆ¶äº²`ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦æŠŠ update juc å˜æ›´ä¸º update juc noteï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦é€‰æ‹©çš„æ˜¯ `77deb4` è¿™ä¸ª msgã€‚

```shell
git log -n3
commit c8701e8874ed55d611d9a4fcfe0483ccc8705a2e (HEAD -> notes)
Author: csliujw <695466632@qq.com>
Date:   Tue Mar 28 22:50:25 2023 +0800

    update this message

commit 7578d051284349dd408eba9f26792b6e3b175d0e
Author: csliujw <695466632@qq.com>
Date:   Sat Mar 25 23:23:36 2023 +0800

    update juc

commit 77deb477a80df21162dc3d880cdc3e4d8612c609 (origin/notes, origin/HEAD)
Author: csliujw <695466632@qq.com>
Date:   Thu Mar 16 23:05:21 2023 +0800

    update
```

ä½¿ç”¨ rebase æ¥å˜æ›´ msg

```shell
git rebase -i 77deb477
pick 7578d05 update juc				
pick c8701e8 update this message

# ==> ä¿®æ”¹ update juc==> update juc note. å…·ä½“çš„å¤„ç†ç­–ç•¥å¯ä»¥çœ‹ git çš„æç¤º, ç”¨ r è¡¨ç¤ºè¦é‡æ–°ç¼–è¾‘ï¼Œç„¶åä¿å­˜
r 7578d05 update juc				
pick c8701e8 update this message
# ==> å¼¹å‡ºé¡µé¢
[unix] 30L, 1338B written
update juc notes	#===>åœ¨è¿™é‡Œå¡«å†™å˜æ›´çš„å†…å®¹

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Date:      Sat Mar 25 23:23:36 2023 +0800
#
# interactive rebase in progress; onto 77deb47

#==>ä¿®æ”¹å®Œæ¯•åå†çœ‹
git log -n2
commit e95f195b9c41aad66673f7233badf0b2beb10198 (HEAD -> notes)
Author: csliujw <695466632@qq.com>
Date:   Tue Mar 28 22:50:25 2023 +0800

    update this message

commit 4e03c937a7daa0dcf12f66900642fe078757cadc
Author: csliujw <695466632@qq.com>
Date:   Sat Mar 25 23:23:36 2023 +0800

    update juc notes			#===>ä¿®æ”¹æˆåŠŸäº†
[detached HEAD 4e03c93] update juc notes #===>å¯ä»¥å‘ç° rebase å…¶å®ä¹Ÿæ˜¯ç”¨åˆ°äº†åˆ†ç¦»å¤´æŒ‡é’ˆçš„ã€‚

# å¯ä»¥å‘ç°ï¼Œè¢«ä¿®æ”¹ msg çš„æäº¤ 7578d05128 ä¸è§äº†ï¼Œå˜æˆäº† 4e03c937a7
```

#### åˆå¹¶è¿ç»­çš„ commit

<b>å‹ç¼© commit</b>

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°† 77deb47 å’Œå®ƒçš„ä¸¤ä¸ªçˆ¶äº² (0b0bc32 å’Œ ebc7606ï¼‰åˆå¹¶åˆ°ä¸€èµ·ã€‚è¿™æ—¶å€™é€‰æ‹©å¯¹ d4e2532ï¼ˆé€‰æ‹©é‚£ä¸‰ä¸ªçš„ç¥–å…ˆï¼‰ è¿›è¡Œå˜åŸºã€‚ï¼ˆå˜åŸºï¼Œå˜åŸºï¼Œå¯ä»¥ç†è§£ä¸ºå˜æ›´ç¥–å…ˆå—ï¼Ÿï¼‰

```shell
git log -n6 --oneline
e95f195 (HEAD -> notes) update this message
4e03c93 update juc notes
77deb47 (origin/notes, origin/HEAD) update	#===>åˆå¹¶
0b0bc32 update								#===>åˆå¹¶
ebc7606 å†…å®¹æ›´æ–°							 #===>åˆå¹¶
d4e2532 æ•´åˆç¬”è®°å†…å®¹ï¼Œæ¸…ç†éƒ¨åˆ†æ— ç”¨å›¾ç‰‡ï¼Œæ–°å¢éƒ¨åˆ†è¯»ä¹¦ç¬”è®°
```

```shell
git rebase -i d4e2532

pick ebc7606 å†…å®¹æ›´æ–°	  #===>åˆå¹¶		#===>è¿™é‡Œé¢æœ€æ—§çš„ commit
pick 0b0bc32 update		#===>åˆå¹¶
pick 77deb47 update		#===>åˆå¹¶
pick 4e03c93 update juc notes
pick e95f195 update this message		#===>æœ€æ–°çš„ commit
```

æ­¤å¤„åŸºäº ebc7606 è¿›è¡Œåˆå¹¶ã€‚

```shell
pick ebc7606 å†…å®¹æ›´æ–°	  #===>åˆå¹¶
s 0b0bc32 update		#===>åˆå¹¶
s 77deb47 update		#===>åˆå¹¶ s è¡¨ç¤ºåˆåˆ°å‰é¢çš„ commit
pick 4e03c93 update juc notes
pick e95f195 update this message		#===>æœ€æ–°çš„ commit


#===>å¼¹å‡ºæç¤º, ä¸ºä»€ä¹ˆè¦åšå˜æ›´, è¿›è¡Œæ—¥å¿—è®°å½•

# This is a combination of 3 commits.
# This is the 1st commit message:

å†…å®¹æ›´æ–°, åˆå¹¶æäº¤è®°å½•

# This is the commit message #2:

update, åˆå¹¶æäº¤è®°å½•

# This is the commit message #3:

update, åˆå¹¶æäº¤è®°å½•
```

#### åˆå¹¶ä¸è¿ç»­çš„ commit

æ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é€‰å¥½ä¸€ä¸ª commit_id è¿›è¡Œ rebaseï¼Œç„¶åæŠŠéœ€è¦èåˆçš„ commit çš„ id å†™è¿›å»ï¼Œæœ€è€çš„ commit å†™åœ¨æœ€å‰é¢ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ commit ä¿®æ”¹.

```shell
git log -n6 --oneline
3bcb25f (HEAD -> notes) update this message
01f8f98 update juc notes							# éœ€è¦åˆå¹¶
188b96c å†…å®¹æ›´æ–°, åˆå¹¶								# éœ€è¦åˆå¹¶
d4e2532 æ•´åˆç¬”è®°å†…å®¹ï¼Œæ¸…ç†éƒ¨åˆ†æ— ç”¨å›¾ç‰‡ï¼Œæ–°å¢éƒ¨åˆ†è¯»ä¹¦ç¬”è®°	# ç”¨å®ƒä½œä¸ºåŸºåœ°, åˆå¹¶ä¸è¿ç»­çš„ commit
78f7367 å¤ä¹ å¹¶æ›´æ–°mysqlç¬”è®°						    # éœ€è¦åˆå¹¶
3d2fd52 fix gitpage bug			

git rebase -i d4e2532
pick 188b96c å†…å®¹æ›´æ–°, åˆå¹¶
pick 01f8f98 update juc notes
pick 3bcb25f update this message

##############==>æŠŠæœ€è€çš„éœ€è¦åˆå¹¶çš„ commits å†™åœ¨æœ€å‰é¢
pick 78f7367 å¤ä¹ å¹¶æ›´æ–°mysqlç¬”è®°
pick 188b96c å†…å®¹æ›´æ–°, åˆå¹¶
pick 01f8f98 update juc notes
pick 3bcb25f update this message

##############==>è¿›è¡Œåˆå¹¶æ“ä½œ
pick 78f7367 å¤ä¹ å¹¶æ›´æ–°mysqlç¬”è®°
s 188b96c å†…å®¹æ›´æ–°, åˆå¹¶				#===> åˆå¹¶åˆ°å‰ä¸€ä¸ªæäº¤ (78f7367)
s 01f8f98 update juc notes			#===> åˆå¹¶åˆ°å‰ä¸€ä¸ªæäº¤
pick 3bcb25f update this message	#===> æœ€æ–°çš„æäº¤


#############æç¤ºæœ‰å†²çª
error: could not apply 78f7367... å¤ä¹ å¹¶æ›´æ–°mysqlç¬”è®°
Resolve all conflicts manually, mark them as resolved with
"git add/rm <conflicted_files>", then run "git rebase --continue".
You can instead skip this commit: run "git rebase --skip".
To abort and get back to the state before "git rebase", run "git rebase --abort".
Could not apply 78f7367... å¤ä¹ å¹¶æ›´æ–°mysqlç¬”è®°
Auto-merging ä¸­é—´ä»¶/Redis-å®æˆ˜.md
CONFLICT (content): Merge conflict in ä¸­é—´ä»¶/Redis-å®æˆ˜.md
Auto-merging Database/MySQL-åŠ å¼º.md
CONFLICT (content): Merge conflict in Database/MySQL-åŠ å¼º.md
```

### æ¯”è¾ƒå·®å¼‚ï¼ˆdiffï¼‰

å®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ï¼Œåˆ°æš‚å­˜åŒºçš„ä¸œè¥¿æ˜¯ä¸æ˜¯å¯ä»¥æäº¤è¿‡å»ã€‚è¿™æ—¶å€™éœ€è¦æˆ‘ä»¬æ¯”è¾ƒä¸‹æš‚å­˜åŒºå’Œæœ€è¿‘ä¸€æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚ï¼ˆdiffï¼‰ï¼Œæ¥åˆ¤æ–­ä¸‹é‚£äº›æ˜¯è¦ä½œä¸ºæ–°çš„æäº¤åŠ å…¥è¿›å»çš„ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ git diff æ¥æ¯”è¾ƒä¸‹åˆ—å†…å®¹çš„å·®å¼‚ã€‚å¸¸ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š

- å°šæœªç¼“å­˜çš„æ”¹åŠ¨ï¼ˆæœªæ·»åŠ åˆ°æš‚å­˜åŒºï¼‰ï¼š`git diff`
- æŸ¥çœ‹å·²ç¼“å­˜çš„æ”¹åŠ¨ï¼ˆæ·»åŠ åˆ°äº†ç¼“å­˜åŒºçš„ï¼‰ï¼š `git diff --cached`
- æŸ¥çœ‹å·²ç¼“å­˜çš„ä¸æœªç¼“å­˜çš„æ‰€æœ‰æ”¹åŠ¨ï¼ˆadd å‰åçš„æ”¹åŠ¨ï¼Œcommit åªä¼šå°±çœ‹ä¸åˆ°äº†ï¼‰ï¼š`git diff HEAD`
- æ˜¾ç¤ºæ‘˜è¦è€Œéæ•´ä¸ª diffï¼š`git diff --stat`
- å¯¹æ¯”ä¸¤æ¬¡æäº¤çš„æ”¹åŠ¨ï¼š `git diff [first-branch] ... [second-branch]`ï¼Œæ˜¾ç¤º first å’Œ second ä¹‹é—´çš„å·®å¼‚ã€‚
- ä¹Ÿå¯ä»¥æŒ‡å®šåªçœ‹æŸä¸ªæ–‡ä»¶çš„å·®å¼‚ï¼š`git diff -- file1 file2 file3`

```shell
git diff befcc00 7578d05

# --- è¡¨ç¤º a æäº¤çš„
# +++ è¡¨ç¤º b æäº¤çš„
diff --git a/Solution/gitå®ç”¨æŠ€å·§.md b/Solution/gitå®ç”¨æŠ€å·§.md
index cf1798e..94f4081 100644
--- a/Solution/gitå®ç”¨æŠ€å·§.md
+++ b/Solution/gitå®ç”¨æŠ€å·§.md
@@ -1,35 +1,8 @@
-# Why Learn Git
+# Learn Git Branch
```

#### æš‚å­˜åŒºå’ŒHEAD

ä¿®æ”¹æŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œç„¶ååŠ å…¥æš‚å­˜åŒºï¼Œå†æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„åŒºåˆ«ã€‚

```shell
# windows ç”¨ notepad å¯åŠ¨è®°äº‹æœ¬, Linux å¯ä»¥ç›´æ¥ç”¨ vi/vim
notepad .\å¥½ç”¨çš„ç¬¦å·.md
git add å¥½ç”¨çš„ç¬¦å·.md
git diff --cached 	# æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD çš„åŒºåˆ«
diff --git a/å¥½ç”¨çš„ç¬¦å·.md b/å¥½ç”¨çš„ç¬¦å·.md
index c42a004..b121d30 100644
--- a/å¥½ç”¨çš„ç¬¦å·.md
+++ b/å¥½ç”¨çš„ç¬¦å·.md
@@ -14,4 +14,5 @@

 ã€ã€

-iCloud + Mweb + Typora è¿˜æ˜¯å¥½ç”¨ã€‚
\ No newline at end of file
+iCloud + Mweb + Typora è¿˜æ˜¯å¥½ç”¨ã€‚
+OKKï¼ŒAdd some message
\ No newline at end of file

# git reset --hard æ¸…é™¤æš‚å­˜åŒºä¸­çš„å†…å®¹, ä¿®æ”¹çš„å†…å®¹ä¹Ÿä¼šä¸¢å¤±ã€‚
```

#### å·¥ä½œåŒºå’Œæš‚å­˜åŒº

åœ¨å·¥ä½œåŒºä¸­ä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯ä¸åŠ å…¥æš‚å­˜åŒºã€‚(`git diff` é»˜è®¤æ¯”è¾ƒçš„å°±æ˜¯å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„åŒºåˆ«)

```shell
git diff
diff --git a/å¥½ç”¨çš„ç¬¦å·.md b/å¥½ç”¨çš„ç¬¦å·.md
index c42a004..dd993ab 100644
--- a/å¥½ç”¨çš„ç¬¦å·.md
+++ b/å¥½ç”¨çš„ç¬¦å·.md
@@ -14,4 +14,5 @@

 ã€ã€

-iCloud + Mweb + Typora è¿˜æ˜¯å¥½ç”¨ã€‚
\ No newline at end of file
+iCloud + Mweb + Typora è¿˜æ˜¯å¥½ç”¨ã€‚
+modify
\ No newline at end of file
```

#### ä¸åŒæäº¤çš„å·®å¼‚

å¦‚æœæˆ‘ä»¬æƒ³æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„å·®å¼‚æˆ–ä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´æŸä¸ªæ–‡ä»¶çš„å·®å¼‚å¯ä»¥ç”¨ `git diff commit_id1, commit_id2 -- file1`

```shell
git log -n4 --oneline
8053ebd (HEAD -> notes) lg
e63db2a update this message
99fe85a æ•´åˆç¬”è®°å†…å®¹ï¼Œæ¸…ç†éƒ¨åˆ†æ— ç”¨å›¾ç‰‡ï¼Œæ–°å¢éƒ¨åˆ†è¯»ä¹¦ç¬”è®°
78f7367 å¤ä¹ å¹¶æ›´æ–°mysqlç¬”è®°

git diff e63db2a 78f7367 -- C++/è°ƒç”¨ä¸‰æ–¹åº“.md
diff --git a/C++/è°ƒç”¨ä¸‰æ–¹åº“.md b/C++/è°ƒç”¨ä¸‰æ–¹åº“.md
deleted file mode 100644
index d610344..0000000
--- a/C++/è°ƒç”¨ä¸‰æ–¹åº“.md
+++ /dev/null
@@ -1,6 +0,0 @@
-# C++è°ƒç”¨ä¸‰æ–¹åº“
-
-- æ‰“åŒ…é™æ€/åŠ¨æ€è¿æ¥åº“
```



### æ–‡ä»¶æ¢å¤ï¼ˆresetï¼‰

- è®©æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·
- è®©å·¥ä½œåŒºçš„æ–‡ä»¶æ¢å¤æˆå’Œæš‚å­˜åŒºä¸€æ ·
- å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„æ›´æ”¹

#### æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·

ä¿®æ”¹éƒ¨åˆ†æ–‡ä»¶ï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºã€‚ç„¶åæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ã€‚

```shell
git add .			#===> åŠ å…¥æš‚å­˜åŒº
	
git status			#===> æŸ¥çœ‹çŠ¶æ€
On branch notes
Your branch and 'origin/notes' have diverged,
and have 3 and 4 different commits each, respectively.
  (use "git pull" to merge the remote branch into yours)

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   README.md
        
git reset HEAD		#===> å°†æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·, æš‚å­˜åŒºæäº¤çš„å†…å®¹è¿˜åŸåˆ°å·¥ä½œåŒº
Unstaged changes after reset:
M       README.md

git diff --cached	#===> æš‚å­˜åŒºç¡®å®å’Œ HEAD ä¸€æ ·äº†ã€‚
#===> æŸ¥çœ‹æ–‡ä»¶, ç¡®å®ä¿®æ”¹è¿˜åœ¨, åªæ˜¯ä¸åœ¨æš‚å­˜åŒºäº†.
```

#### å·¥ä½œåŒºçš„æ–‡ä»¶æ¢å¤æˆå’Œæš‚å­˜åŒºä¸€æ ·

æœ‰äº›æ—¶å€™æˆ‘ä»¬åšäº†å˜æ›´ï¼Œè¿™éƒ¨åˆ†å˜æ›´æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼Œç„¶åå·¥ä½œåŒºç»§ç»­åšå˜æ›´ï¼›ä½†æ˜¯å˜æ›´è¿‡ç¨‹ä¸­å‘ç°å·¥ä½œåŒºçš„å˜æ›´ä¸å¦‚æš‚å­˜åŒºå¥½ï¼Œè¿™æ—¶å€™å¸Œæœ›æ¢å¤æˆæš‚å­˜åŒºçš„æ ·å­ã€‚

```shell
# å˜æ›´è¿‡ä¸€æ¬¡
git add .

git diff
diff --git a/README.md b/README.md
index 10884a7..4a429bd 100644
--- a/README.md
+++ b/README.md
@@ -1,5 +1,5 @@
 # å†…å®¹é€ŸæŸ¥
-111
+111222^M
 ## ğŸ“šå­¦ä¹ è®¡åˆ’

# ç»§ç»­ä¿®æ”¹
git status
On branch notes
Your branch and 'origin/notes' have diverged,
and have 3 and 4 different commits each, respectively.
  (use "git pull" to merge the remote branch into yours)

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   README.md

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   README.md
# å·¥ä½œåŒºå¸Œæœ›æ¢å¤æˆæš‚å­˜åŒºçš„æ ·å­, git æç¤ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "git restore <file>..." to discard changes
git restore .\README.md

git diff .\README.md		#===> å¯¹æ¯”å·¥ä½œåŒºå’Œæš‚å­˜åŒº, æ²¡æœ‰å·®å¼‚ã€‚å®Œç¾è§£å†³ã€‚
```

#### å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„æ›´æ”¹

```shell
git reset HEAD -- æ–‡ä»¶å
```

### æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤

å¦‚æœæœ‰äº› commit æˆ‘ä»¬ç¡®å®æ˜¯å®Œå…¨ä¸æƒ³è¦äº†ï¼Œå¯ä»¥ä½¿ç”¨ reset æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼ˆåªèƒ½æ¶ˆé™¤æœ¬åœ°çš„æäº¤ï¼Œè¿œç¨‹çš„éœ€è¦ç”¨ revertï¼‰

``` shell
git reset --hard commit_id 	#===> å°†æš‚å­˜åŒºã€å·¥ä½œåŒºçš„çŠ¶æ€éƒ½æ¢å¤åˆ° commit_id è¿™æ¬¡æäº¤çš„å†…å®¹äº†ã€‚
```

### åˆ é™¤æ–‡ä»¶

`git rm file`ï¼Œgit ä¼šç›´æ¥æŠŠæ–‡ä»¶çš„åˆ é™¤æƒ…å†µæ”¾åˆ°æš‚å­˜åŒºï¼Œå°±ä¸éœ€è¦å…ˆåœ¨å·¥ä½œåŒºåˆ é™¤ï¼Œåœ¨ä»æš‚å­˜åŒºåˆ é™¤äº†ã€‚

```shell
# åˆ é™¤ git æ–‡ä»¶
#===>ç›´æ¥åˆ é™¤
rm file
git status

xxx deleted:	file

git rm file

#===>ç›´æ¥ä½¿ç”¨ git rm åˆ é™¤æ–‡ä»¶, æ›´æ–¹ä¾¿, å’Œå‰é¢çš„æ•ˆæœä¸€æ ·
git rm file
```

### ä¸´æ—¶åŠ å¡ç´§æ€¥ä»»åŠ¡ï¼ˆstashï¼‰

å‡å¦‚ä¹‹å‰åšçš„å·¥ä½œè¢«æ·»åŠ åˆ°æš‚å­˜åŒºäº†ï¼Œç„¶åå¼€å§‹äº†æ–°çš„å·¥ä½œã€‚æ­¤æ—¶ï¼Œæµ‹è¯•äººå‘˜åé¦ˆåˆšåˆšæ·»åŠ åˆ°æš‚å­˜åŒºçš„ä»£ç å‡ºç°äº† bugï¼Œéœ€è¦ç´§æ€¥ä¿®å¤ã€‚è¿™æ—¶å€™éœ€è¦æˆ‘ä»¬æ”¾ä¸‹æ‰‹å¤´çš„å·¥ä½œå»ä¿®å¤ bugã€‚å¯ä»¥å…ˆæŠŠæ‰‹å¤´çš„å·¥ä½œ stashï¼ˆå­˜æ”¾èµ·æ¥ï¼‰

```shell
git status
modified:   README.md

git stash		#===>å°†æ‰‹å¤´çš„å·¥ä½œæš‚æ—¶å­˜æ”¾èµ·æ¥ï¼Œå»è§£å†³ bug
Saved working directory and index state WIP on notes: 8053ebd lg

git status
nothing to commit, working tree clean

git stash apply	#===>å°†æš‚å­˜çš„å†…å®¹æ¢å¤è¿‡æ¥, æš‚å­˜åŒºçš„å†…å®¹ä¼šä¿ç•™
git stash pop	#===>å°†æš‚å­˜çš„å†…å®¹æ¢å¤è¿‡æ¥, ä¸”æš‚å­˜åŒºä¸­çš„å†…å®¹ä¼šå¼¹å‡ºã€‚
```



### æ ‡ç­¾ï¼ˆtagï¼‰

å¦‚æœæˆ‘ä»¬çš„é¡¹ç›®è¾¾åˆ°ä¸€ä¸ªé‡è¦çš„é˜¶æ®µï¼Œå¹¶å¸Œæœ›æ°¸è¿œè®°ä½é‚£ä¸ªç‰¹åˆ«çš„æäº¤å¿«ç…§ï¼Œå°±å¯ä»¥ç»™å®ƒæ‰“ä¸Šæ ‡ç­¾ (tag)ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å‘å¸ƒä¸€ä¸ª "1.0" ç‰ˆæœ¬ã€‚ æˆ‘ä»¬ç»™æœ€æ–°ä¸€æ¬¡æäº¤æ‰“ä¸Š (HEAD) "v1.0" çš„æ ‡ç­¾ã€‚æ ‡ç­¾å¯ä»¥ç†è§£ä¸ºé¡¹ç›®é‡Œç¨‹ç¢‘çš„ä¸€ä¸ªæ ‡è®°ï¼Œä¸€æ—¦æ‰“ä¸Šäº†è¿™ä¸ªæ ‡è®°åˆ™ï¼Œè¡¨ç¤ºå½“å‰çš„ä»£ç å°†ä¸å…è®¸æäº¤ã€‚

```shell
# æ‰“å°æ‰€æœ‰çš„æ ‡ç­¾
$ git tag

# æ·»åŠ è½»é‡æ ‡ç­¾ï¼ŒæŒ‡å‘æäº¤å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯ä»¥æŒ‡å®šä¹‹å‰çš„æäº¤è®°å½•
$ git tag <æ ‡ç­¾åç§°> [<commit ID>]

# æ·»åŠ å¸¦æœ‰æè¿°ä¿¡æ¯çš„é™„æ³¨æ ‡ç­¾ï¼Œå¯ä»¥æŒ‡å®šä¹‹å‰çš„æäº¤è®°å½•
$ git tag -a <æ ‡ç­¾åç§°> -m <æ ‡ç­¾æè¿°ä¿¡æ¯> [<commit ID>]

# åˆ‡æ¢åˆ°æŒ‡å®šçš„æ ‡ç­¾
$ git checkout <æ ‡ç­¾åç§°>

# æŸ¥çœ‹æ ‡ç­¾çš„ä¿¡æ¯
$ git show <æ ‡ç­¾åç§°>

# åˆ é™¤æŒ‡å®šçš„æ ‡ç­¾
$ git tag -d <æ ‡ç­¾åç§°>

# å°†æŒ‡å®šçš„æ ‡ç­¾æäº¤åˆ°è¿œç¨‹ä»“åº“
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> <æ ‡ç­¾åç§°>

# å°†æœ¬åœ°æ‰€æœ‰çš„æ ‡ç­¾å…¨éƒ¨æäº¤åˆ°è¿œç¨‹ä»“åº“
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> â€“tags
```

### ç†è§£ HEAD å’Œ Branch

head å¯ä»¥æŒ‡å‘åˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘å…·ä½“çš„ commitï¼Œä¸å’Œä»»ä½•åˆ†æ”¯æŒ‚é’©ã€‚

### å›é€€æ“ä½œï¼ˆreset&revertï¼‰

å¦‚æœæˆ‘ä»¬å¸Œæœ› git å›é€€åˆ°æŸä¸ªçŠ¶æ€ï¼Œå¹¶ä¸”è¿™ä¸ªçŠ¶æ€ä¹‹åçš„æäº¤éƒ½ä¸¢æ‰ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ `git reset --hard befcc` å°†æš‚å­˜åŒºå’Œ commit çš„å†…å®¹éƒ½æ¢å¤åˆ° befccã€‚ 

### å¿½ç•¥æ–‡ä»¶ï¼ˆignoreï¼‰

ä¸€èˆ¬æˆ‘ä»¬æ€»ä¼šæœ‰äº›æ–‡ä»¶æ— éœ€çº³å…¥ Git çš„ç®¡ç†ï¼Œä¹Ÿä¸å¸Œæœ›å®ƒä»¬æ€»å‡ºç°åœ¨æœªè·Ÿè¸ªæ–‡ä»¶åˆ—è¡¨ã€‚ é€šå¸¸éƒ½æ˜¯äº›è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæ¯”å¦‚æ—¥å¿—æ–‡ä»¶ï¼Œæˆ–è€…ç¼–è¯‘è¿‡ç¨‹ä¸­åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ç­‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ä½œç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º .gitignore çš„æ–‡ä»¶ (æ–‡ä»¶åç§°å›ºå®š) ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶æ¨¡å¼ã€‚

```shell
*.a # ä»¥ .a ç»“å°¾çš„æ–‡ä»¶ä¸è®© git ç®¡ç†, å¦‚ demo.a å°±ä¼šè¢«å¿½ç•¥
*.dSYM/ # æ–‡ä»¶å¤¹ä¸‹çš„ä»»ä½•æ–‡ä»¶éƒ½ä¸çº³å…¥ git ç®¡ç†, ä½†æ˜¯ a.dSYM git æ˜¯è¦ç®¡ç†çš„ã€‚

doc/	# doc æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¸çº³å…¥ git ç®¡ç†
```

### Git å¤‡ä»½

å°† Git ä»“åº“å¤‡ä»½åˆ°æœ¬åœ°ã€‚

| å¸¸ç”¨åè®®        | è¯­æ³•æ ¼å¼                                                     | è¯´æ˜                     |
| --------------- | ------------------------------------------------------------ | ------------------------ |
| æœ¬åœ°åè®®ï¼ˆ1ï¼‰   | /path/to/repo.git                                            | å“‘åè®®                   |
| æœ¬åœ°åè®®ï¼ˆ2ï¼‰   | fil:///path/to/repo.git                                      | æ™ºèƒ½åè®®                 |
| http/https åè®® | http://git-server.com:port/path/to/repo.git<br>https://git-server.com:port/path/to/repo.git | å¹³æ—¶æ¥è§¦åˆ°çš„éƒ½æ˜¯æ™ºèƒ½åè®® |
| ssh åè®®        | user@git-server.com:path/to/repo.git                         | å·¥ä½œä¸­æœ€å¸¸ç”¨çš„æ™ºèƒ½åè®®   |

#### å“‘åè®®ä¸æ™ºèƒ½åè®®

ç›´è§‚åŒºåˆ«ï¼šå“‘åè®®ä¼ è¾“è¿›åº¦ä¸å¯è§;æ™ºèƒ½åè®®ä¼ è¾“å¯è§ã€‚

ä¼ è¾“é€Ÿåº¦ï¼šæ™ºèƒ½åè®®æ¯”å“‘åè®®ä¼ è¾“é€Ÿåº¦å¿«ã€‚

#### ä»“åº“å¤‡ä»½

- git clone
- git remote
- git push

å…ˆå°†å½“å‰çš„å‚è€ƒå¤‡ä»½åˆ° back ç›®å½•ã€‚

```shell
# åˆ›å»ºå¤‡ä»½ç›®å½•,è¿›å…¥ç›®å½•æ‰§è¡Œ clone å¤‡ä»½ä»“åº“

#===> å“‘åè®®å¤‡ä»½
PS C:\development\note\back> git clone --bare C:\development\note\learning_git\.git ya.git
Cloning into bare repository 'ya.git'...
done.

#===> æ™ºèƒ½åè®®å¤‡ä»½
PS C:\development\note\back> git clone --bare file://C:\development\note\learning_git\.git zhineng.git
Cloning into bare repository 'zhineng.git'...
remote: Enumerating objects: 12501, done.
remote: Counting objects: 100% (12501/12501), done.
remote: Compressing objects: 100% (7521/7521), done.
Receiving objects:  100% (12501/12501)
```

æŠŠå½“å‰çš„ learning_git ä»“åº“å…³è”è¿œç«¯ä»“åº“ï¼Œè¿›è¡ŒåŒæ­¥ã€‚

```shell
PS C:\development\note\learning_git> git remote add zhineng file://C:\development\note\back\zhineng.git
PS C:\development\note\learning_git> git remote -v
origin  git@github.com:csliujw/CodeNotes.git (fetch)
origin  git@github.com:csliujw/CodeNotes.git (push)
zhineng file://C:\development\note\back\zhineng.git (fetch)
zhineng file://C:\development\note\back\zhineng.git (push)

# ç»™å‚è€ƒåšä¸€äº›å˜æ›´ï¼Œç„¶å push åˆ°å…¶ä»–å‚è€ƒåšå¤‡ä»½ã€‚
PS C:\development\note\learning_git> mkdir aa
PS C:\development\note\learning_git> git add .
PS C:\development\note\learning_git> git commit -m "update aa"

PS C:\development\note\learning_git> git push zhineng	#===>å°†gitåŒæ­¥åˆ°å…¶ä»–ä»“åº“ã€‚

To file://C:\development\note\back\zhineng.git
   8053ebd..dcd0a96  notes -> notes
PS C:\development\note\learning_git>
```

## Gitè¿œç¨‹ä»“åº“

### å¸¸ç”¨çš„æ‰˜ç®¡æœåŠ¡

å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“äº† Git ä¸­å­˜åœ¨ä¸¤ç§ç±»å‹çš„ä»“åº“ï¼Œå³æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ­å»º Git è¿œç¨‹ä»“åº“å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å€ŸåŠ©äº’è”ç½‘ä¸Šæä¾›çš„ä¸€äº›ä»£ç æ‰˜ç®¡æœåŠ¡æ¥å®ç°ï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ GitHubã€ç äº‘ã€GitLab ç­‰ã€‚

GitHub ( åœ°å€ï¼šhttps://github.com/ ) æ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå› ä¸ºåªæ”¯æŒ Git ä½œä¸ºå”¯ä¸€çš„ç‰ˆæœ¬åº“æ ¼å¼è¿›è¡Œæ‰˜ç®¡ï¼Œæ•…å GitHub

ç äº‘ (åœ°å€ï¼š https://gitee.com/ ) æ˜¯å›½å†…çš„ä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œç”±äºæœåŠ¡å™¨åœ¨å›½å†…ï¼Œæ‰€ä»¥ç›¸æ¯”äº  GitHubï¼Œç äº‘é€Ÿåº¦ä¼šæ›´å¿«

GitLab  (åœ°å€ï¼š https://about.gitlab.com/ ) æ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨ Git ä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„ web æœåŠ¡ï¼Œä¸€èˆ¬ç”¨äºåœ¨ä¼ä¸šã€å­¦æ ¡ç­‰å†…éƒ¨ç½‘ç»œæ­å»º git ç§æœã€‚

### æ“ä½œè¿œç¨‹ä»“åº“

åˆ›å»ºä»“åº“æ—¶è®°å¾—æ³¨æ„é€‰æ‹©ä½•ç§å¼€æºåè®®ã€‚

#### æ·»åŠ è¿œç¨‹ä»“åº“

æ­¤æ“ä½œæ˜¯å…ˆåˆå§‹åŒ–æœ¬åœ°åº“ï¼Œç„¶åä¸å·²åˆ›å»ºçš„è¿œç¨‹åº“è¿›è¡Œå¯¹æ¥ã€‚

å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š
- è¿œç«¯åç§°ï¼šé»˜è®¤æ˜¯ originï¼Œå–å†³äºè¿œç«¯æœåŠ¡å™¨è®¾ç½®
- ä»“åº“åœ°å€ï¼šä»è¿œç«¯æœåŠ¡å™¨è·å–æ­¤ url

```shell
git remote add <è¿œç«¯åç§°> <ä»“åº“åœ°å€>  #===> add æ–°å¢è¿œç«¯ç«™ç‚¹, ä¸€ä¸ªæœ¬åœ°å‚è€ƒå¯ä»¥å…³è”å¤šä¸ªè¿œç«¯ä»“åº“ã€‚
```

ä¾‹å¦‚

```shell
git remote add origin git@gitee.com:csliujw/git_test.git
```

#### æŸ¥çœ‹è¿œç¨‹ä»“åº“

å‘½ä»¤

```shell
git remote
```

æ¨é€åˆ°è¿œç¨‹ä»“åº“

```shell
git push [-f] [--set-upstream] [è¿œç«¯åç§°] [æœ¬åœ°åˆ†æ”¯å][:è¿œç«¯åˆ†æ”¯å]
```

æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹å‚è€ƒéƒ½æœ‰é‚£äº›åˆ†æ”¯

```shell
git branch -av
* notes                 dcd0a96 [ahead 4, behind 4] update aa
  remotes/origin/HEAD   -> origin/notes
  remotes/origin/notes  77deb47 update
  remotes/zhineng/notes dcd0a96 update aa
```

æ³¨æ„ï¼šæˆ‘ä»¬æ“ä½œçš„å…¶å®éƒ½æ˜¯æœ¬åœ°åˆ†æ”¯ï¼Œæ“ä½œå®Œæ¯•åæŠŠå†…å®¹ push åˆ°è¿œç¨‹åˆ†æ”¯ä¸Šã€‚å¦‚æœæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯å‘ç”Ÿäº†å†²çªï¼Œå¯ä»¥å°†è¿œç¨‹åˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œå¤„ç†å®Œå†²çªåå† pushã€‚

```sh
git checkout -b feature/datalist # åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª feature/datalist åˆ†æ”¯
git branch -u origin feature/datalist # å°†æœ¬åœ°çš„ feature/datalist åˆ†æ”¯å’Œè¿œç¨‹çš„ feature/datalist åˆ†æ”¯è¿›è¡Œå…³è”
git push origin feature/datalist # å°†æœ¬åœ°åˆ†æ”¯ï¼ˆfeatute/datalistï¼‰ æ¨é€åˆ°è¿œç¨‹çš„ feature/datalist åˆ†æ”¯
```

#### ä»è¿œç¨‹ä»“åº“å…‹éš†

å¦‚æœå·²ç»æœ‰ä¸€ä¸ªè¿œç«¯ä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ clone åˆ°æœ¬åœ°ã€‚

```shell
git clone <ä»“åº“åœ°å€> [æœ¬åœ°ç›®å½•]
```

æœ¬åœ°ç›®å½•å¯ä»¥çœç•¥ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç›®å½•

#### åŒæ­¥ä»“åº“å†…å®¹

<b>git ä¸­æ˜¯æœ‰ä¸‰ä¸ªåˆ†æ”¯çš„ï¼Œæœ¬åœ°åˆ†æ”¯ï¼Œè¿½è¸ªåˆ†æ”¯ï¼Œè¿œç¨‹åˆ†æ”¯ã€‚</b>

```mermaid
graph TD
 subgraph æœ¬åœ°åˆ†æ”¯
 	å·¥ä½œåŒº1
 	æš‚å­˜åŒº1
 	å¯¹è±¡åŒº1
 end
 subgraph è¿½è¸ªåˆ†æ”¯
 	å·¥ä½œåŒº2
 	æš‚å­˜åŒº2
 	å¯¹è±¡åŒº2
 end
 subgraph è¿œç¨‹åˆ†æ”¯
 	å·¥ä½œåŒº3
 	æš‚å­˜åŒº3
 	å¯¹è±¡åŒº3
 end
```

è¿½è¸ªåˆ†æ”¯ä¹Ÿå«æœ¬åœ°çš„è¿œç¨‹åˆ†æ”¯ï¼Œæ˜¯è¿œç¨‹åˆ†æ”¯åœ¨æœ¬åœ°çš„æ‹·è´ï¼Œä½œä¸ºæœ¬åœ°ä¸è¿œç¨‹çš„åª’ä»‹ã€‚

<b>åŒæ­¥ä»“åº“å†…å®¹ç”¨ä¸¤ç§æƒ…å†µã€‚</b>

- 1ï¸âƒ£æœ¬åœ°â†’è¿œç¨‹ï¼Œæœ¬åœ°æœ‰ dev åˆ†æ”¯ï¼Œè¿œç¨‹æ²¡æœ‰ã€‚

  - `git push -u origin dev`ï¼Œå…³è”æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ã€‚

    `git push --set-upstream origin dev`

- 2ï¸âƒ£è¿œç¨‹â†’æœ¬åœ°ï¼Œè¿œç¨‹æœ‰ dev åˆ†æ”¯ï¼Œæœ¬åœ°æ²¡æœ‰ã€‚

  - `git pull`ï¼Œå…ˆæ‹‰å–è¿œç¨‹çš„åˆ†æ”¯åˆ°è¿½è¸ªåˆ†æ”¯ï¼ˆorigin/xx origin å¼€å¤´çš„æ˜¯è¿½è¸ªåˆ†æ”¯å“¦ï¼‰

  - `git checkout -b dev origin/dev` åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯ devï¼Œç„¶åå°†æœ¬åœ°åˆ†æ”¯å’Œè¿½è¸ªåˆ†æ”¯å…³è”ã€‚

    `git checkout -b dev --track origin/dev` å’Œä¸Šé¢çš„å‘½ä»¤ä¸€è‡´ã€‚

    ä¹Ÿå¯ä»¥ç®€å†™ä¸º `git checkout --track origin/dev`ï¼Œé»˜è®¤å°† dev åˆ†æ”¯çš„åå­—ä½œä¸ºæœ¬åœ°åˆ†æ”¯çš„åå­—ã€‚

å¦‚æœå…³è”æœ¬åœ°å’Œè¿œç«¯ä»“åº“åï¼Œå°†æœ¬åœ°çš„æ¨é€åˆ°è¿œç«¯å‘ç”Ÿäº†å†²çªï¼Œæç¤ºéœ€è¦ pull xxxï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼è§£å†³ã€‚

```shell
git fetch è¿œç«¯ä»“åº“å åˆ†æ”¯å
git push è¿œç«¯ä»“åº“å åˆ†æ”¯å
```

å¦‚æœå‘ç°ä»“åº“çš„åˆ†æ”¯èµ°å‘ä¸æ˜¯çº¿æ€§çš„ï¼Œå¯ä»¥é€šè¿‡ merge çš„æ‰‹æ®µåˆå¹¶åˆ†æ”¯ï¼Œå˜æˆçº¿æ€§çš„ï¼ˆåé¢ä½“ä¼šï¼‰ã€‚

#### åˆ é™¤è¿œç«¯åˆ†æ”¯

åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼š`git branch -d åˆ†æ”¯å`

æœ¬åœ°åˆ†æ”¯æ¨é€è¿œç«¯ï¼š`git push origin local:remote_dest`

åˆ é™¤è¿œç«¯åˆ†æ”¯ï¼š`git push origin _:test`ï¼Œ`_` è¡¨ç¤ºç©ºæ ¼ï¼Œæˆ–è€… `git push origin --delete test`

### æ–‡ä»¶å†²çªâ˜…

æ­¤å¤„æŒ‡çš„éƒ½æ˜¯ä¸¤ä¸ªäººå¼€å‘åŒä¸€ä¸ªåˆ†æ”¯

- ä¸åŒæ–‡ä»¶å‘ç”Ÿäº†å†²çªå¦‚ä½•å¤„ç†
- ç›¸åŒçš„æ–‡ä»¶ï¼Œä¸åŒå†…å®¹å‘ç”Ÿäº†å†²çªå¦‚ä½•å¤„ç†
- ç›¸åŒçš„æ–‡ä»¶ï¼ŒåŒæ ·çš„å†…å®¹å‘ç”Ÿäº†å†²çªå¦‚ä½•å¤„ç†
- åŒæ—¶å˜æ›´äº†æ–‡ä»¶åå’Œæ–‡ä»¶å†…å®¹å¦‚ä½•å¤„ç†
- æŠŠåŒä¸€æ–‡ä»¶æ”¹æˆäº†ä¸åŒçš„æ–‡ä»¶åå¦‚ä½•å¤„ç†

æœ‰æœ¬åœ°åˆ†æ”¯ aï¼Œè¿˜æœ‰è¿œç«¯åˆ†æ”¯ aï¼Œå¯¹æœ¬åœ°åˆ†æ”¯è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ‹‰å»è¿œç¨‹åˆ†æ”¯ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯è¿›è¡Œåˆå¹¶ï¼Œå†æŠŠæœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ã€‚

#### ä¸åŒæ–‡ä»¶çš„å†²çª

clone ä¸€ä¸ªè‡ªå·±çš„ git å¤‡ä»½é¡¹ç›®ï¼Œæ¨¡æ‹Ÿä¸‹ã€‚

- æ•™ç¨‹ä¸­çš„åšæ³•ï¼Œclone ä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åæ ¹æ®è¿œç¨‹åˆ†æ”¯ checkout -b ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ã€‚
    - æ–° git é¡¹ç›®ï¼šgit checkout -b feature/add_git_commands origin/feature/add_git_commandsã€‚
    - è€ git é¡¹ç›®ï¼šgit fetch xxx æ‹‰å–è¿œç«¯åˆ†æ”¯ã€‚
        - git branc -avï¼Œå¯ä»¥çœ‹åˆ°è¿œç¨‹åˆ†æ”¯å¢åŠ äº†ã€‚
        - git checkout -b feature/add_git_commands origin/feature/add_git_commandsï¼Œåˆ›å»ºä¸€ä¸ªæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯å…³è”èµ·æ¥ã€‚
        - è§‚å¯Ÿä¸‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„æŒ‡å‘æ˜¯å¦ä¸€æ ·ã€‚

- æŠŠè¿œç«¯åˆ†æ”¯ fetch ä¸‹æ¥ï¼Œgit branch -av å¯ä»¥å‘ç°æœ¬åœ°çš„åˆ†æ”¯æ¯”è¿œç«¯çš„åˆ†æ”¯è¦æ–°ï¼Œä¸”è¿œç«¯åˆ†æ”¯æ¯”æœ¬åœ°å¤šå‡ºä¸€ä¸ªæ–‡ä»¶ã€‚
- å°†æœ¬åœ°çš„åˆ†æ”¯å’Œè¿œç«¯åˆ†æ”¯è¿›è¡Œåˆå¹¶ mergeã€‚ï¼ˆåˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œç„¶å git merge xxx/feature/add_git_commandsï¼ŒæŠŠè¿œç«¯çš„åˆå¹¶åˆ°æœ¬åœ°ï¼Œç„¶åå† push åˆ°è¿œç¨‹åˆ†æ”¯ï¼‰

#### åŒæ–‡ä»¶ä¸åŒåŒºåŸŸçš„å†…å®¹

ç›¸åŒçš„æ–‡ä»¶ï¼ŒåŒæ ·çš„å†…å®¹å‘ç”Ÿäº†å†²çªå¦‚ä½•å¤„ç†ï¼Ÿ

è¿œç«¯çš„æ‹‰åˆ°æœ¬åœ°ï¼Œç„¶ååšä¸ª mergeï¼Œå†çœ‹ä¸‹å†…å®¹æ˜¯å¦éœ€è¦äººå·¥ä»‹å…¥å¤„ç†ï¼Œå¤„ç†å®Œæ¯•åå† pushã€‚

#### åŒæ–‡ä»¶åŒåŒºåŸŸçš„å†…å®¹

ç›¸åŒçš„æ–‡ä»¶ï¼ŒåŒæ ·çš„å†…å®¹å‘ç”Ÿäº†å†²çªå¦‚ä½•å¤„ç†ï¼Ÿ

æŠŠæœ€æ–°çš„ä»“åº“ pull ä¸‹ï¼Œç„¶åæ ¹æ® git çš„æç¤ºæ¥è§£å†³å†²çªï¼ˆgit ä¼šåœ¨å†²çªæ–‡ä»¶çš„å‰åç”¨ `HEAD<<<<<<` `XX>>>>>>>` è¡¨ç¤ºæ˜¯è¿™éƒ¨åˆ†æ–‡ä»¶å†²çªäº†ï¼‰ï¼Œè§£å†³å†²çªåå† commit å¹¶ push åˆ°è¿œç«¯ã€‚

#### æœ‰äººä¿®æ”¹äº†æ–‡ä»¶å

A ä¿®æ”¹äº†æ–‡ä»¶åï¼ˆindex.html --> index.htmï¼‰ç„¶åæäº¤åˆ°äº†è¿œç«¯ã€‚

B ä¸çŸ¥é“ï¼Œè¿˜åœ¨ index.html ä¸­åšä¿®æ”¹ï¼Œæäº¤åˆ°è¿œç«¯çš„æ—¶å€™æŠ¥é”™äº†ã€‚æç¤ºæˆ‘ä»¬è¦ pullã€‚pull çš„æ—¶å€™ git éå¸¸æ™ºèƒ½çš„çŸ¥é“äº†æ˜¯æ–‡ä»¶åå‘ç”Ÿäº†å˜åŒ–ï¼Œæ›¿æˆ‘ä»¬æŠŠæœ¬åœ°çš„ index.html ä¿®æ”¹ä¸ºäº† index.htmã€‚è€Œä¸”æˆ‘ä»¬å˜æ›´çš„å†…å®¹ä¹Ÿä¿å­˜åˆ°äº†é‡Œé¢ã€‚

å¦‚æœæ–‡ä»¶åä¸åŒï¼Œä¸”å†…å®¹å‘ç”Ÿäº†å˜æ›´ï¼Œæ“ä½œæ–¹å¼å’Œä¸Šé¢çš„ä¸€æ ·ã€‚

#### å¤šäººä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶çš„æ–‡ä»¶å

Aã€B éƒ½æ”¹äº†æ–‡ä»¶åï¼ŒA æ”¹æˆäº† index1.htmï¼ŒB æ”¹æˆäº† index2.htmï¼Œæ­¤æ—¶ git ä¸ä¼šå¤„ç†ï¼Œéœ€è¦åŒæ–¹è‡ªå·±åå•†ï¼Œåå•†å®Œæ¯•åå†è¿›è¡Œæ›´æ”¹ã€‚

```shell
# ä¸€èˆ¬ä¼šæç¤ºæˆ‘ä»¬æŠŠ index.html (è¢«ä¿®æ”¹åå­—çš„) åˆ é™¤ï¼Œç„¶åé€‰æ‹© index1.htm æˆ– index2.htm åŠ å…¥æš‚å­˜åŒº
git rm index.html
git add index1.htm
git rm index2.htm
git commit -m 'decide to v index to index1'
```

### å±é™©å‘½ä»¤

- resetã€revertã€push -f éƒ½æ˜¯å±é™©å‘½ä»¤ã€‚
- ä¸¥ç¦å°†å…¬å…±åˆ†æ”¯æ‹‰åˆ°æœ¬åœ°åš rebase æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´å…¶ä»–åä½œäººå‘˜çš„ fast-forward rebase å‰åä¸ä¸€è‡´ã€‚

### github

è®© git å˜å¾—æ›´åŠ å¥½ç”¨ï¼Œç”¨æˆ·å¯ä»¥ä¾¿æ·çš„åˆ†äº«è‡ªå·±çš„ codeã€‚å¯ä»¥æ–¹ä¾¿çš„æ£€ç´¢è‡ªå·±æƒ³è¦çš„å¼€æºé¡¹ç›®ã€‚

### ç»ƒä¹ 

> åŸºæœ¬å‘½ä»¤ä»‹ç»

```powershell
# åˆå§‹åŒ–gité¡¹ç›®
git init

# å…³è”gitä»“åº“
git remote add origin 'é¡¹ç›®çš„å…å¯†åœ°å€'
# ä¾‹å¦‚
git remote add origin git@github.com:csliujw/JavaEE.git

# æ·»åŠ 
git add .

# æäº¤
git commit .  # æˆ–è€… git commit -m"æäº¤çš„å†…å®¹è¯´æ˜"

# å­˜å…¥ä»“åº“
git push origin master

# å¦‚æœpushå¤±è´¥æç¤ºè¿™äº›å†…å®¹
To github.com:liujiaweiReal/layui.git
 ! [rejected]        master -> master (non-fast-forward)
error: failed to push some refs to 'git@github.com:liujiaweiReal/layui.git'

# åˆ™ä½¿ç”¨ è¿™ä¸ªå‘½ä»¤åŒæ­¥ä¸‹æœ¬åœ°ä»“åº“å’Œgitä»“åº“
git pull origin master --allow-unrelated-histories

# å†å­˜å…¥ä»“åº“
git push origin master

# ä»ä»“åº“ä¸­æ‹‰å–é¡¹ç›®
git pull
```

> ä½¿ç”¨æ¡ˆä¾‹

```powershell
# ç¬¬ä¸€æ¬¡ä¸‹è½½é¡¹ç›® (è¿œç¨‹-æœ¬åœ°) 
git clone git@github.com:yanqun/mygitremote.git

# æäº¤(æœ¬åœ°-è¿œç¨‹)
# (åœ¨å½“å‰å·¥ä½œç›®å½• å³é”®-git bash)
git add.
git commit -m"æäº¤åˆ°åˆ†æ”¯"
git push origin master

# æ›´æ–°(è¿œç¨‹-æœ¬åœ°)
git pull
# ä»è¿œç¨‹ä»“åº“ä¸­æŠŠä»£ç æ‹‰è¿‡æ¥ï¼
git pull origin master
```

## ä½¿ç”¨Github

[GitHub Docs](https://docs.github.com/zh)

### æœç´¢

æœ‰é«˜çº§æœç´¢åŠŸèƒ½ã€‚[Githubé«˜çº§æœç´¢æŠ€å·§ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/411634596)

- æŒ‰æ—¶é—´ã€‚
- åœ¨æœç´¢æ è¾“å…¥ `git Java CPP in:readme`ï¼Œåœ¨ readme ä¸­æœç´¢åŒ…å« Java CPP çš„ä»“åº“ã€‚
- åœ¨æœç´¢æ è¾“å…¥ `git Java CPP in:readme stars:>1000`ï¼Œåœ¨ readme ä¸­æœç´¢åŒ…å« Java CPP çš„ä»“åº“ï¼Œä¸” star æ•°å¤§äº 1000ã€‚
- åœ¨æœç´¢æ è¾“å…¥ `'public'+'static' filename:.Config.java`ï¼Œæœç´¢å¸¦ Config.java æ–‡ä»¶çš„ä»“åº“ï¼Œä¸”æ–‡ä»¶ä¸­åŒ…å« public å’Œ static å­—æ®µã€‚
- é«˜çº§æœç´¢ä¹Ÿæœ‰å¯è§†åŒ–çš„æœç´¢ç•Œé¢ï¼šhttps://github.com/search/advanced

### å·¥ä½œæµ

<b>éœ€è¦è€ƒè™‘çš„å› ç´ </b>

- å›¢é˜Ÿäººå‘˜çš„ç»„æˆ
- ç ”å‘è®¾è®¡èƒ½åŠ›
- è¾“å‡ºäº§å“çš„ç‰¹å¾ï¼ˆSass æœåŠ¡è¿˜ Android Appï¼‰
- é¡¹ç›®çš„éš¾æ˜“ç¨‹åº¦

#### ä¸»å¹²å¼€å‘

åšå‡ºçš„å˜æ›´ä¼šåŠæ—¶çš„åŒæ­¥åˆ°ä¸»å¹²åˆ†æ”¯ã€‚

<b>é€‚ç”¨äº</b>

- å¼€å‘å›¢é˜Ÿç³»ç»Ÿè®¾è®¡å’Œå¼€å‘èƒ½åŠ›å¼ºã€‚æœ‰ä¸€å¥—æœ‰æ•ˆçš„ç‰¹æ€§åˆ‡æ¢çš„å®æ–½æœºåˆ¶ï¼Œä¿è¯ä¸Šçº¿åæ— éœ€ä¿®æ”¹ä»£ç å°±èƒ½å¤Ÿä¿®æ”¹ç³»ç»Ÿè¡Œä¸ºã€‚éœ€è¦å¿«é€Ÿè¿­ä»£ï¼Œæƒ³è·å¾—CI/ CDæ‰€æœ‰å¥½å¤„ã€‚

- ç»„ä»¶å¼€å‘çš„å›¢é˜Ÿï¼Œæˆå‘˜èƒ½åŠ›å¼ºï¼Œäººå‘˜å°‘ï¼Œæ²Ÿé€šé¡ºç•…ã€‚ç”¨æˆ·å‡çº§ç»„ä»¶æˆæœ¬ä½çš„ç¯å¢ƒã€‚

#### git flow

<b>é€‚ç”¨äº</b>

ä¸å…·å¤‡ä¸»å¹²å¼€å‘èƒ½åŠ›ï¼ˆæ“ä½œæˆæœ¬è¾ƒé«˜ï¼‰ã€‚æœ‰é¢„å®šçš„å‘å¸ƒå‘¨æœŸã€‚éœ€è¦æ‰§è¡Œä¸¥æ ¼çš„å‘å¸ƒæµç¨‹ã€‚

#### gitLab Flow

<b>å¸¦ç”Ÿäº§åˆ†æ”¯ï¼Œé€‚ç”¨äº</b>

ä¸å…·å¤‡ä¸»å¹²å¼€å‘èƒ½åŠ›ã€‚æ— æ³•æ§åˆ¶å‡†ç¡®çš„å‘å¸ƒæ—¶é—´ï¼Œä½†åˆè¦æ±‚ä¸åœåœ°é›†æˆã€‚

<b>å¸¦ç¯å¢ƒåˆ†æ”¯ï¼Œé€‚ç”¨äº</b>

ä¸å…·å¤‡ä¸»å¹²å¼€å‘èƒ½åŠ›ã€‚éœ€è¦é€ä¸ªé€šè¿‡å„ä¸ªæµ‹è¯•ç¯å¢ƒçš„éªŒè¯æ‰èƒ½å‘å¸ƒã€‚

<b>å¸¦å‘å¸ƒåˆ†æ”¯ï¼Œé€‚ç”¨äº</b>

ä¸å…·å¤‡ä¸»å¹²å¼€å‘èƒ½åŠ›ã€‚éœ€è¦å¯¹å¤–å‘å¸ƒå’Œç»´æŠ¤ä¸åŒç‰ˆæœ¬ã€‚ï¼ˆè½¯ä»¶è¦å’Œç¡¬ä»¶é…åˆçš„é¡¹ç›®ï¼ŒåŒä¸€ä¸ªæ—¶é—´ç‚¹æœ‰å¤šä¸ªç‰ˆæœ¬ï¼‰

### issue

#### å¯ç”¨ issue

setting --> issuesâˆš-->set up templates

å¯ä»¥åœ¨é¡¹ç›®ä¸­å¯ç”¨ issue åŠŸèƒ½ã€‚

#### ç®¡ç†

å¯ä»¥å¯ç”¨ä»“åº“ Projects çš„çœ‹æ¿åŠŸèƒ½ï¼Œå°†é¡¹ç›®ç°åœ¨åœ¨åšçš„ï¼Œæ‰“ç®—åšçš„ï¼Œåšå®Œäº†çš„åœ¨çœ‹æ¿ä¸­è¿›è¡Œå½’ç±»ã€‚ç”¨çœ‹æ¿æœ‰æ•ˆçš„ç®¡ç†ä»»åŠ¡ï¼Œæ¨è¿›ä»»åŠ¡ã€‚

[Vue çš„çœ‹æ¿](https://github.com/vuejs/vue/projects/8)

### CodeReview

è®¾ç½® Codereviewï¼Œæœªç»è¿‡ CodeView çš„ä»£ç ä¸èƒ½åˆå¹¶åˆ°é›†æˆåˆ†æ”¯ä¸­ï¼Œä¿éšœä»£ç è´¨é‡ã€‚

é¡¹ç›®çš„ settings=\=\>branches=\=>Apply rule toï¼ˆè®¾ä¿æŠ¤è§„åˆ™ï¼‰

```shell
# ä¾‹å¦‚è®¾ç½® master ä¸å…è®¸ç›´æ¥åš push
Apply rule t0
|------------------|
| master           |
|------------------|
# è®¾ç½®éœ€è¦å‡ ä¸ªäºº review æ‰å¯ä»¥é€šè¿‡

# ç”³è¯· pull request åè®¾ç½®æŒ‡å®šçš„ review äººå‘˜, è¯·æ±‚ä»–æ¥ review ä¸€ä¸‹ã€‚å¯¹åº”è´¦å·çš„é‚®ç®±ä¼šæ”¶åˆ° review è¯·æ±‚ã€‚

# review äººå‘˜æ”¶åˆ°è¯·æ±‚åï¼Œå¯ä»¥é€‰æ‹©ä¸åˆå¹¶ï¼Œç‚¹å‡» close pull requestï¼Œé€‰æ‹©å…³é—­æ‹‰å–è¯·æ±‚è€Œä¸å°†å…¶åˆå¹¶åˆ°ä¸Šæ¸¸åˆ†æ”¯
```



## IDEAä¸­ä½¿ç”¨Git

### é…ç½®Git

å®‰è£…å¥½ IntelliJ IDEA åï¼Œå¦‚æœ Git å®‰è£…åœ¨é»˜è®¤è·¯å¾„ä¸‹ï¼Œé‚£ä¹ˆ IDEA ä¼šè‡ªåŠ¨æ‰¾åˆ° Git çš„ä½ç½®ï¼Œå¦‚æœæ›´æ”¹äº† Git çš„å®‰è£…ä½ç½®åˆ™éœ€è¦æ‰‹åŠ¨é…ç½®ä¸‹ Git çš„è·¯å¾„ã€‚é€‰æ‹© Fileâ†’Settings æ‰“å¼€è®¾ç½®çª—å£ï¼Œæ‰¾åˆ° Version Control ä¸‹çš„ Git é€‰é¡¹

<img src="img/image-20220407200027402.png">

### ä½¿ç”¨Git

IDEA ä¸­ä½¿ç”¨ Git æ¯”è¾ƒç®€å•ï¼Œä¸»è¦è®°å½•ä¸‹è‡ªå·±ç›®å‰ä¸å¤ªå¸¸ç”¨çš„å‡ ä¸ªåŠŸèƒ½ã€‚

#### åˆ›å»ºåˆ†æ”¯

<img src="img/image-20220407200910491.png">

<img src="img/image-20220407200940428.png">

<img src="img/image-20220407202215521.png">

# å¸¸ç”¨Gitå‘½ä»¤æ±‡æ€»

## æ—¥å¸¸ç§¯ç´¯

```shell
git log # æŸ¥çœ‹æäº¤è®°å½•
git reset --hard ç‰ˆæœ¬id

# å¼ºåˆ¶ä¿®æ”¹åˆ†æ”¯åç§°
$ git branch -M [<åŸåˆ†æ”¯åç§°>] <æ–°çš„åˆ†æ”¯åç§°>
# åˆ é™¤æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯
$ git branch -d <åˆ†æ”¯åç§°>
# å¼ºåˆ¶åˆ é™¤æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯
$ git branch -D <åˆ†æ”¯åç§°>

# åˆ é™¤gitæœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯
git push origin -d BranchName
git push origin --delete BranchName

# å›æº¯åˆ†æ”¯
git clone --recursive -b 8.2-EA https://github.com/onnx/onnx-tensorrt.git
```

## Gitå‘½ä»¤å¤§å…¨

### git config

é…ç½® Git çš„ç›¸å…³å‚æ•°ã€‚

Git ä¸€å…±æœ‰ 3 ä¸ªé…ç½®æ–‡ä»¶ï¼š

1. ä»“åº“çº§çš„é…ç½®æ–‡ä»¶ï¼šåœ¨ä»“åº“çš„ `.git/.gitconfig`ï¼Œè¯¥é…ç½®æ–‡ä»¶åªå¯¹æ‰€åœ¨çš„ä»“åº“æœ‰æ•ˆã€‚
2. å…¨å±€é…ç½®æ–‡ä»¶ï¼šMac ç³»ç»Ÿåœ¨ `~/.gitconfig`ï¼ŒWindows ç³»ç»Ÿåœ¨ `C:\Users\<ç”¨æˆ·å>\.gitconfig`ã€‚
3. ç³»ç»Ÿçº§çš„é…ç½®æ–‡ä»¶ï¼šåœ¨ Git çš„å®‰è£…ç›®å½•ä¸‹ (Mac ç³»ç»Ÿä¸‹å®‰è£…ç›®å½•åœ¨ `/usr/local/git`) çš„ `etc` æ–‡ä»¶å¤¹ä¸­çš„ `gitconfig`ã€‚

```ruby
# æŸ¥çœ‹é…ç½®ä¿¡æ¯
# --localï¼šä»“åº“çº§ï¼Œ--globalï¼šå…¨å±€çº§ï¼Œ--systemï¼šç³»ç»Ÿçº§
$ git config <--local | --global | --system> -l

# æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„é…ç½®ä¿¡æ¯
$ git config -l

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# --localï¼šä»“åº“çº§ï¼Œ--globalï¼šå…¨å±€çº§ï¼Œ--systemï¼šç³»ç»Ÿçº§
$ git config <--local | --global | --system> -e

# æ·»åŠ é…ç½®é¡¹
# --localï¼šä»“åº“çº§ï¼Œ--globalï¼šå…¨å±€çº§ï¼Œ--systemï¼šç³»ç»Ÿçº§
$ git config <--local | --global | --system> --add <name> <value>

# è·å–é…ç½®é¡¹
$ git config <--local | --global | --system> --get <name>

# åˆ é™¤é…ç½®é¡¹
$ git config <--local | --global | --system> --unset <name>

# é…ç½®æäº¤è®°å½•ä¸­çš„ç”¨æˆ·ä¿¡æ¯
$ git config --global user.name <ç”¨æˆ·å>
$ git config --global user.email <é‚®ç®±åœ°å€>

# æ›´æ”¹Gitç¼“å­˜åŒºçš„å¤§å°
# å¦‚æœæäº¤çš„å†…å®¹è¾ƒå¤§ï¼Œé»˜è®¤ç¼“å­˜è¾ƒå°ï¼Œæäº¤ä¼šå¤±è´¥
# ç¼“å­˜å¤§å°å•ä½ï¼šBï¼Œä¾‹å¦‚ï¼š524288000 (500MB) 
$ git config --global http.postBuffer <ç¼“å­˜å¤§å°>

# è°ƒç”¨ git status/git diff å‘½ä»¤æ—¶ä»¥é«˜äº®æˆ–å½©è‰²æ–¹å¼æ˜¾ç¤ºæ”¹åŠ¨çŠ¶æ€
$ git config --global color.ui true

# é…ç½®å¯ä»¥ç¼“å­˜å¯†ç ï¼Œé»˜è®¤ç¼“å­˜æ—¶é—´15åˆ†é’Ÿ
$ git config --global credential.helper cache

# é…ç½®å¯†ç çš„ç¼“å­˜æ—¶é—´
# ç¼“å­˜æ—¶é—´å•ä½ï¼šç§’
$ git config --global credential.helper 'cache --timeout=<ç¼“å­˜æ—¶é—´>'

# é…ç½®é•¿æœŸå­˜å‚¨å¯†ç 
$ git config --global credential.helper store
```

### git clone

ä»è¿œç¨‹ä»“åº“å…‹éš†ä¸€ä¸ªç‰ˆæœ¬åº“åˆ°æœ¬åœ°ã€‚

```bash
# é»˜è®¤åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºå’Œç‰ˆæœ¬åº“åç›¸åŒçš„æ–‡ä»¶å¤¹å¹¶ä¸‹è½½ç‰ˆæœ¬åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹
$ git clone <è¿œç¨‹ä»“åº“çš„ç½‘å€>

# æŒ‡å®šæœ¬åœ°ä»“åº“çš„ç›®å½•
$ git clone <è¿œç¨‹ä»“åº“çš„ç½‘å€> <æœ¬åœ°ç›®å½•>

# -b æŒ‡å®šè¦å…‹éš†çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯masteråˆ†æ”¯
$ git clone <è¿œç¨‹ä»“åº“çš„ç½‘å€> -b <åˆ†æ”¯åç§°> <æœ¬åœ°ç›®å½•>
```

### git init

åˆå§‹åŒ–é¡¹ç›®æ‰€åœ¨ç›®å½•ï¼Œåˆå§‹åŒ–åä¼šåœ¨å½“å‰ç›®å½•ä¸‹å‡ºç°ä¸€ä¸ªåä¸º .git çš„ç›®å½•ã€‚

```ruby
# åˆå§‹åŒ–æœ¬åœ°ä»“åº“ï¼Œåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ .git æ–‡ä»¶å¤¹
$ git init
```

### git status

æŸ¥çœ‹æœ¬åœ°ä»“åº“çš„çŠ¶æ€ã€‚

```ruby
# æŸ¥çœ‹æœ¬åœ°ä»“åº“çš„çŠ¶æ€
$ git status

# ä»¥ç®€çŸ­æ¨¡å¼æŸ¥çœ‹æœ¬åœ°ä»“åº“çš„çŠ¶æ€
# ä¼šæ˜¾ç¤ºä¸¤åˆ—ï¼Œç¬¬ä¸€åˆ—æ˜¯æ–‡ä»¶çš„çŠ¶æ€ï¼Œç¬¬äºŒåˆ—æ˜¯å¯¹åº”çš„æ–‡ä»¶
# æ–‡ä»¶çŠ¶æ€ï¼šA æ–°å¢ï¼ŒM ä¿®æ”¹ï¼ŒD åˆ é™¤ï¼Œ?? æœªæ·»åŠ åˆ°Gitä¸­
$ git status -s
```

### git remote

æ“ä½œè¿œç¨‹åº“ã€‚

```ruby
# åˆ—å‡ºå·²ç»å­˜åœ¨çš„è¿œç¨‹ä»“åº“
$ git remote

# åˆ—å‡ºè¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œåœ¨åˆ«ååé¢åˆ—å‡ºURLåœ°å€
$ git remote -v
$ git remote --verbose

# æ·»åŠ è¿œç¨‹ä»“åº“
$ git remote add <è¿œç¨‹ä»“åº“çš„åˆ«å> <è¿œç¨‹ä»“åº“çš„URLåœ°å€>

# ä¿®æ”¹è¿œç¨‹ä»“åº“çš„åˆ«å
$ git remote rename <åŸè¿œç¨‹ä»“åº“çš„åˆ«å> <æ–°çš„åˆ«å>

# åˆ é™¤æŒ‡å®šåç§°çš„è¿œç¨‹ä»“åº“
$ git remote remove <è¿œç¨‹ä»“åº“çš„åˆ«å>

# ä¿®æ”¹è¿œç¨‹ä»“åº“çš„ URL åœ°å€
$ git remote set-url <è¿œç¨‹ä»“åº“çš„åˆ«å> <æ–°çš„è¿œç¨‹ä»“åº“URLåœ°å€>
```

### git branch

æ“ä½œ Git çš„åˆ†æ”¯å‘½ä»¤ã€‚

```ruby
# åˆ—å‡ºæœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰æ‰€åœ¨åˆ†æ”¯ä»¥ "*" æ ‡å‡º
$ git branch

# åˆ—å‡ºæœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯å¹¶æ˜¾ç¤ºæœ€åä¸€æ¬¡æäº¤ï¼Œå½“å‰æ‰€åœ¨åˆ†æ”¯ä»¥ "*" æ ‡å‡º
$ git branch -v

# åˆ›å»ºæ–°åˆ†æ”¯ï¼Œæ–°çš„åˆ†æ”¯åŸºäºä¸Šä¸€æ¬¡æäº¤å»ºç«‹
$ git branch <åˆ†æ”¯å>

# ä¿®æ”¹åˆ†æ”¯åç§°
# å¦‚æœä¸æŒ‡å®šåŸåˆ†æ”¯åç§°åˆ™ä¸ºå½“å‰æ‰€åœ¨åˆ†æ”¯
$ git branch -m [<åŸåˆ†æ”¯åç§°>] <æ–°çš„åˆ†æ”¯åç§°>
# å¼ºåˆ¶ä¿®æ”¹åˆ†æ”¯åç§°
$ git branch -M [<åŸåˆ†æ”¯åç§°>] <æ–°çš„åˆ†æ”¯åç§°>

# åˆ é™¤æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯
$ git branch -d <åˆ†æ”¯åç§°>

# å¼ºåˆ¶åˆ é™¤æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯
$ git branch -D <åˆ†æ”¯åç§°>
```

```shell
# åˆ é™¤gitæœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯
git push origin -d BranchName
git push origin --delete BranchName
```

### git checkout

æ£€å‡ºå‘½ä»¤ï¼Œç”¨äºåˆ›å»ºã€åˆ‡æ¢åˆ†æ”¯ç­‰ã€‚

```ruby
# åˆ‡æ¢åˆ°å·²å­˜åœ¨çš„æŒ‡å®šåˆ†æ”¯
$ git checkout <åˆ†æ”¯åç§°>

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ï¼Œä¿ç•™æ‰€æœ‰çš„æäº¤è®°å½•
# ç­‰åŒäº "git branch" å’Œ "git checkout" ä¸¤ä¸ªå‘½ä»¤åˆå¹¶
$ git checkout -b <åˆ†æ”¯åç§°>

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ï¼Œåˆ é™¤æ‰€æœ‰çš„æäº¤è®°å½•
$ git checkout --orphan <åˆ†æ”¯åç§°>

# æ›¿æ¢æ‰æœ¬åœ°çš„æ”¹åŠ¨ï¼Œæ–°å¢çš„æ–‡ä»¶å’Œå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºçš„å†…å®¹ä¸å—å½±å“
$ git checkout <æ–‡ä»¶è·¯å¾„>
```

### git cherry-pick

æŠŠå·²ç»æäº¤çš„è®°å½•åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚

```ruby
# æŠŠå·²ç»æäº¤çš„è®°å½•åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
$ git cherry-pick <commit ID>
```

### git add

æŠŠè¦æäº¤çš„æ–‡ä»¶çš„ä¿¡æ¯æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ã€‚å½“ä½¿ç”¨ git commit æ—¶ï¼Œå°†ä¾æ®æš‚å­˜åŒºä¸­çš„å†…å®¹æ¥è¿›è¡Œæ–‡ä»¶çš„æäº¤ã€‚

```ruby
# æŠŠæŒ‡å®šçš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºä¸­
$ git add <æ–‡ä»¶è·¯å¾„>

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤çš„æ–‡ä»¶åˆ°æš‚å­˜åŒºä¸­
$ git add -u [<æ–‡ä»¶è·¯å¾„>]
$ git add --update [<æ–‡ä»¶è·¯å¾„>]

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤ã€æ–°å¢çš„æ–‡ä»¶åˆ°æš‚å­˜åŒºä¸­ï¼Œçœç•¥ <æ–‡ä»¶è·¯å¾„> å³ä¸ºå½“å‰ç›®å½•
$ git add -A [<æ–‡ä»¶è·¯å¾„>]
$ git add --all [<æ–‡ä»¶è·¯å¾„>]

# æŸ¥çœ‹æ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤ä½†æ²¡æœ‰æäº¤çš„æ–‡ä»¶ï¼Œè¿›å…¥ä¸€ä¸ªå­å‘½ä»¤ç³»ç»Ÿ
$ git add -i [<æ–‡ä»¶è·¯å¾„>]
$ git add --interactive [<æ–‡ä»¶è·¯å¾„>]
```

### git commit

å°†æš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚

```ruby
# æŠŠæš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œè°ƒç”¨æ–‡æœ¬ç¼–è¾‘å™¨è¾“å…¥è¯¥æ¬¡æäº¤çš„æè¿°ä¿¡æ¯
$ git commit

# æŠŠæš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­å¹¶æ·»åŠ æè¿°ä¿¡æ¯
$ git commit -m "<æäº¤çš„æè¿°ä¿¡æ¯>"

# æŠŠæ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­
# ä¸åŒ…æ‹¬æœªè¢«ç‰ˆæœ¬åº“è·Ÿè¸ªçš„æ–‡ä»¶ï¼Œç­‰åŒäºå…ˆè°ƒç”¨äº† "git add -u"
$ git commit -a -m "<æäº¤çš„æè¿°ä¿¡æ¯>"

# ä¿®æ”¹ä¸Šæ¬¡æäº¤çš„æè¿°ä¿¡æ¯
$ git commit --amend
```

### git fetch

ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°çš„ç‰ˆæœ¬åˆ°æœ¬åœ°çš„ tmp åˆ†æ”¯ä¸Šã€‚

```ruby
# å°†è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬å…¨éƒ¨å–å›åˆ°æœ¬åœ°
$ git fetch <è¿œç¨‹ä»“åº“çš„åˆ«å>

# å°†è¿œç¨‹ä»“åº“æŒ‡å®šåˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬å–å›åˆ°æœ¬åœ°
$ git fetch <è¿œç¨‹ä¸»æœºå> <åˆ†æ”¯å>
```

### git diff

æ¯”è¾ƒç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ã€‚

```ruby
# æ¯”è¾ƒå½“å‰æ–‡ä»¶å’Œæš‚å­˜åŒºä¸­æ–‡ä»¶çš„å·®å¼‚ï¼Œæ˜¾ç¤ºæ²¡æœ‰æš‚å­˜èµ·æ¥çš„æ›´æ”¹
$ git diff

# æ¯”è¾ƒæš‚å­˜åŒºä¸­çš„æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å·®å¼‚
$ git diff --cached
$ git diff --staged

# æ¯”è¾ƒå½“å‰æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å·®å¼‚
$ git diff HEAD

# æŸ¥çœ‹ä»æŒ‡å®šçš„ç‰ˆæœ¬ä¹‹åæ”¹åŠ¨çš„å†…å®¹
$ git diff <commit ID>

# æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„å·®å¼‚
$ git diff <åˆ†æ”¯åç§°> <åˆ†æ”¯åç§°>

# æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯åˆ†å¼€åå„è‡ªçš„æ”¹åŠ¨å†…å®¹
$ git diff <åˆ†æ”¯åç§°>...<åˆ†æ”¯åç§°>
```

### git pull

ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬å¹¶åˆå¹¶åˆ°æœ¬åœ°ã€‚é¦–å…ˆä¼šæ‰§è¡Œ `git fetch`ï¼Œç„¶åæ‰§è¡Œ `git merge`ï¼ŒæŠŠè·å–çš„åˆ†æ”¯çš„ HEAD åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚

```ruby
# ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬ã€‚
$ git pull
```

### git push

æŠŠæœ¬åœ°ä»“åº“çš„æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚

```ruby
# æŠŠæœ¬åœ°ä»“åº“çš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„æŒ‡å®šåˆ†æ”¯
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> <æœ¬åœ°åˆ†æ”¯å>:<è¿œç¨‹åˆ†æ”¯å>

# åˆ é™¤æŒ‡å®šçš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> :<è¿œç¨‹åˆ†æ”¯å>
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> --delete <è¿œç¨‹åˆ†æ”¯å>
```

### git log

æ˜¾ç¤ºæäº¤çš„è®°å½•ã€‚

```bash
# æ‰“å°æ‰€æœ‰çš„æäº¤è®°å½•
$ git log

# æ‰“å°ä»ç¬¬ä¸€æ¬¡æäº¤åˆ°æŒ‡å®šçš„æäº¤çš„è®°å½•
$ git log <commit ID>

# æ‰“å°æŒ‡å®šæ•°é‡çš„æœ€æ–°æäº¤çš„è®°å½•
$ git log -<æŒ‡å®šçš„æ•°é‡>
```

### git reset

è¿˜åŸæäº¤è®°å½•ã€‚è¿˜åŸç‚¹ä¹‹åæäº¤çš„ commit éƒ½ä¼šæ¶ˆå¤±ã€‚æ¯”å¦‚ä¸€å…± 100 ä¸ª commitï¼Œæ‰§è¡Œäº† git reset ç¬¬ 50 ä¸ª commitï¼Œåˆ™åé¢ 51~100 çš„ commit éƒ½ä¼šæ¶ˆå¤±ã€‚

```ruby
# é‡ç½®æš‚å­˜åŒºï¼Œä½†æ–‡ä»¶ä¸å—å½±å“
# ç›¸å½“äºå°†ç”¨ "git add" å‘½ä»¤æ›´æ–°åˆ°æš‚å­˜åŒºçš„å†…å®¹æ’¤å‡ºæš‚å­˜åŒºï¼Œå¯ä»¥æŒ‡å®šæ–‡ä»¶
# æ²¡æœ‰æŒ‡å®š commit ID åˆ™é»˜è®¤ä¸ºå½“å‰ HEAD
$ git reset [<æ–‡ä»¶è·¯å¾„>]
$ git reset --mixed [<æ–‡ä»¶è·¯å¾„>]

# å°† HEAD çš„æŒ‡å‘æ”¹å˜ï¼Œæ’¤é”€åˆ°æŒ‡å®šçš„æäº¤è®°å½•ï¼Œæ–‡ä»¶æœªä¿®æ”¹
$ git reset <commit ID>
$ git reset --mixed <commit ID>

# å°† HEAD çš„æŒ‡å‘æ”¹å˜ï¼Œæ’¤é”€åˆ°æŒ‡å®šçš„æäº¤è®°å½•ï¼Œæ–‡ä»¶æœªä¿®æ”¹
# ç›¸å½“äºè°ƒç”¨ "git reset --mixed" å‘½ä»¤ååˆåšäº†ä¸€æ¬¡ "git add"
$ git reset --soft <commit ID>

# å°† HEAD çš„æŒ‡å‘æ”¹å˜ï¼Œæ’¤é”€åˆ°æŒ‡å®šçš„æäº¤è®°å½•ï¼Œæ–‡ä»¶ä¹Ÿä¿®æ”¹äº†
$ git reset --hard <commit ID>
```

### git revert

ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€æŸæ¬¡æäº¤ï¼Œæ­¤æ¬¡æäº¤ä¹‹å‰çš„æ‰€æœ‰æäº¤éƒ½ä¼šè¢«ä¿ç•™ï¼Œç›¸å½“äºç”Ÿæˆä¸€ä¸ªæ–°çš„å†…å®¹ï¼Œç„¶åå°†æ–°çš„å†…å®¹æäº¤è¿‡å»ã€‚

```ruby
# ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€æŸæ¬¡æäº¤
$ git revert <commit ID>
```

### git rebase

åˆå¹¶ commitã€‚åªæ¨èåˆå¹¶æœ¬åœ°çš„ commitï¼Œå¦‚æœè¦åˆå¹¶è¿œç¨‹çš„ commitï¼Œéœ€è¦ç¡®ä¿åˆå¹¶çš„ commit ä¸æ˜¯åˆ«äººä½¿ç”¨çš„åˆ†æ”¯ï¼Œå¦åˆ™å®¹æ˜“é€ æˆé”™è¯¯ã€‚

```bash
$ git rebase -i <commit ID> # ä»è¿™ä¸ª ID å¼€å§‹
$ git rebase -i HEAD~100 # ä»å½“å‰å¼€å§‹ï¼Œå‘å‰æ‰¾ 100 ä¸ª commit
```

å¦‚æœæ˜¯è¿œç¨‹ commit åˆå¹¶ï¼Œåˆ™æŒ‰ç…§æç¤º rebase åéœ€è¦æ‰§è¡Œ

```bash
$ git push -f origin åˆ†æ”¯åç§° # å¼ºåˆ¶æäº¤è¿‡å»
```

å› ä¸ºè¦å¼ºåˆ¶æäº¤æ‰å¯ä»¥åˆå¹¶è¿œç¨‹çš„åˆ†æ”¯ï¼Œä½¿ç”¨ä¸å½“å®¹æ˜“é€ æˆæ··ä¹±ï¼Œå› æ­¤ä¸æ¨èè¿œç¨‹ commit åˆå¹¶ã€‚

### git merge

åˆå¹¶åˆ†æ”¯ã€‚

```ruby
# æŠŠæŒ‡å®šçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ä¸‹
$ git merge <åˆ†æ”¯åç§°>
```

### git tag

æ“ä½œæ ‡ç­¾çš„å‘½ä»¤ã€‚

```ruby
# æ‰“å°æ‰€æœ‰çš„æ ‡ç­¾
$ git tag

# æ·»åŠ è½»é‡æ ‡ç­¾ï¼ŒæŒ‡å‘æäº¤å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯ä»¥æŒ‡å®šä¹‹å‰çš„æäº¤è®°å½•
$ git tag <æ ‡ç­¾åç§°> [<commit ID>]

# æ·»åŠ å¸¦æœ‰æè¿°ä¿¡æ¯çš„é™„æ³¨æ ‡ç­¾ï¼Œå¯ä»¥æŒ‡å®šä¹‹å‰çš„æäº¤è®°å½•
$ git tag -a <æ ‡ç­¾åç§°> -m <æ ‡ç­¾æè¿°ä¿¡æ¯> [<commit ID>]

# åˆ‡æ¢åˆ°æŒ‡å®šçš„æ ‡ç­¾
$ git checkout <æ ‡ç­¾åç§°>

# æŸ¥çœ‹æ ‡ç­¾çš„ä¿¡æ¯
$ git show <æ ‡ç­¾åç§°>

# åˆ é™¤æŒ‡å®šçš„æ ‡ç­¾
$ git tag -d <æ ‡ç­¾åç§°>

# å°†æŒ‡å®šçš„æ ‡ç­¾æäº¤åˆ°è¿œç¨‹ä»“åº“
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> <æ ‡ç­¾åç§°>

# å°†æœ¬åœ°æ‰€æœ‰çš„æ ‡ç­¾å…¨éƒ¨æäº¤åˆ°è¿œç¨‹ä»“åº“
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> â€“tags
```

### git mv

é‡å‘½åæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ã€‚

```ruby
# é‡å‘½åæŒ‡å®šçš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹
$ git mv <æºæ–‡ä»¶/æ–‡ä»¶å¤¹> <ç›®æ ‡æ–‡ä»¶/æ–‡ä»¶å¤¹>
```

### git rm

åˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ã€‚

```ruby
# ç§»é™¤è·Ÿè¸ªæŒ‡å®šçš„æ–‡ä»¶ï¼Œå¹¶ä»æœ¬åœ°ä»“åº“çš„æ–‡ä»¶å¤¹ä¸­åˆ é™¤
$ git rm <æ–‡ä»¶è·¯å¾„>

# ç§»é™¤è·Ÿè¸ªæŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä»æœ¬åœ°ä»“åº“çš„æ–‡ä»¶å¤¹ä¸­åˆ é™¤
$ git rm -r <æ–‡ä»¶å¤¹è·¯å¾„>

# ç§»é™¤è·Ÿè¸ªæŒ‡å®šçš„æ–‡ä»¶ï¼Œåœ¨æœ¬åœ°ä»“åº“çš„æ–‡ä»¶å¤¹ä¸­ä¿ç•™è¯¥æ–‡ä»¶
$ git rm --cached
```

### æ“ä½œåœºæ™¯ç¤ºä¾‹

#### åˆ é™¤æ‰æœ¬åœ°ä¸å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯

å¤šäººåˆä½œå¼€å‘æ—¶ï¼Œå¦‚æœè¿œç¨‹çš„åˆ†æ”¯è¢«å…¶ä»–å¼€å‘åˆ é™¤æ‰ï¼Œåœ¨æœ¬åœ°æ‰§è¡Œ `git branch --all` ä¾ç„¶ä¼šæ˜¾ç¤ºè¯¥è¿œç¨‹åˆ†æ”¯ï¼Œå¯ä½¿ç”¨ä¸‹åˆ—çš„å‘½ä»¤è¿›è¡Œåˆ é™¤ï¼š

```ruby
# ä½¿ç”¨ pull å‘½ä»¤ï¼Œæ·»åŠ  -p å‚æ•°
$ git pull -p

# ç­‰åŒäºä¸‹é¢çš„å‘½ä»¤
$ git fetch -p
$ git fetch --prune origin
```

## Gitæ”¶è—

åŸæ–‡åœ°å€ï¼šhttp://rogerdudler.github.io/git-guide/index.zh.html

> è¯´ git ç®€å•çš„äººï¼Œè¦ä¹ˆåªä¼šé‚£å‡ è¡Œå‘½ä»¤ï¼Œè¦ä¹ˆåªæ˜¯çº¸ä¸Šè°ˆå…µã€‚
>
> å†æˆ–è€…ç›´æ¥ç”¨å›¾å½¢åŒ–ç•Œé¢ï¼Œä¸€å¥å‘½ä»¤éƒ½ä¸ä¼šã€‚
>
> è¿™æ˜¯åœ¨ github ä¸€ç¯‡éå¸¸ä¸é”™çš„ git æŒ‡å—ï¼Œæœªæ¥å¯èƒ½ä¼šæ— æ³•è®¿é—®ï¼Œæ‰€ä»¥è½¬è½½æ”¶è—ã€‚

### å®‰è£…

[ä¸‹è½½ git OSX ç‰ˆ](http://git-scm.com/download/mac)

[ä¸‹è½½ git Windows ç‰ˆ](http://git-for-windows.github.io/)

[ä¸‹è½½ git Linux ç‰ˆ](http://book.git-scm.com/2_installing_git.html)

### æ“ä½œå‘½ä»¤è¡¨

<img src="img/011500266295799.webp">

### åˆ›å»ºæ–°ä»“åº“

åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ï¼Œç„¶åæ‰§è¡Œ

```bash
git init
```

ä»¥åˆ›å»ºæ–°çš„ git ä»“åº“ã€‚

### æ£€å‡ºä»“åº“

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“çš„å…‹éš†ç‰ˆæœ¬

```bash
git clone /path/to/repository
```

å¦‚æœæ˜¯è¿œç«¯æœåŠ¡å™¨ä¸Šçš„ä»“åº“ï¼Œä½ çš„å‘½ä»¤ä¼šæ˜¯è¿™ä¸ªæ ·å­

```bash
git clone username@host:/path/to/repository
```

å½“ä½ éœ€è¦é€‰æ‹©åˆ†æ”¯æ—¶ï¼Œ

```bash
git clone -b åˆ†æ”¯åç§° åœ°å€
```

### å·¥ä½œæµ

ä½ çš„æœ¬åœ°ä»“åº“ç”± git ç»´æŠ¤çš„ä¸‰æ£µâ€œæ ‘â€ç»„æˆã€‚ç¬¬ä¸€ä¸ªæ˜¯ä½ çš„ `å·¥ä½œç›®å½•`ï¼Œå®ƒæŒæœ‰å®é™…æ–‡ä»¶ï¼›ç¬¬äºŒä¸ªæ˜¯ `æš‚å­˜åŒº (Index) `ï¼Œå®ƒåƒä¸ªç¼“å­˜åŒºåŸŸï¼Œä¸´æ—¶ä¿å­˜ä½ çš„æ”¹åŠ¨ï¼›æœ€åæ˜¯ `HEAD`ï¼Œå®ƒæŒ‡å‘ä½ æœ€åä¸€æ¬¡æäº¤çš„ç»“æœã€‚

### æ·»åŠ å’Œæäº¤

ä½ å¯ä»¥æå‡ºæ›´æ”¹ (æŠŠå®ƒä»¬æ·»åŠ åˆ°æš‚å­˜åŒº) ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤

```bash
git add <filename>
```

`git add *`
è¿™æ˜¯ git åŸºæœ¬å·¥ä½œæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼›ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä»¥å®é™…æäº¤æ”¹åŠ¨

```bash
git commit -m "ä»£ç æäº¤ä¿¡æ¯"
```

ç°åœ¨ï¼Œä½ çš„æ”¹åŠ¨å·²ç»æäº¤åˆ°äº† HEADï¼Œä½†æ˜¯è¿˜æ²¡åˆ°ä½ çš„è¿œç«¯ä»“åº“ã€‚

### æ¨é€æ”¹åŠ¨

ä½ çš„æ”¹åŠ¨ç°åœ¨å·²ç»åœ¨æœ¬åœ°ä»“åº“çš„ HEAD ä¸­äº†ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å°†è¿™äº›æ”¹åŠ¨æäº¤åˆ°è¿œç«¯ä»“åº“ï¼š

```bash
git push origin master
```

å¯ä»¥æŠŠ *master* æ¢æˆä½ æƒ³è¦æ¨é€çš„ä»»ä½•åˆ†æ”¯ã€‚

å¦‚æœä½ è¿˜æ²¡æœ‰å…‹éš†ç°æœ‰ä»“åº“ï¼Œå¹¶æ¬²å°†ä½ çš„ä»“åº“è¿æ¥åˆ°æŸä¸ªè¿œç¨‹æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ·»åŠ ï¼š

```bash
git remote add origin <server>
```

å¦‚æ­¤ä½ å°±èƒ½å¤Ÿå°†ä½ çš„æ”¹åŠ¨æ¨é€åˆ°æ‰€æ·»åŠ çš„æœåŠ¡å™¨ä¸Šå»äº†ã€‚

### åˆ†æ”¯

åˆ†æ”¯æ˜¯ç”¨æ¥å°†ç‰¹æ€§å¼€å‘ç»ç¼˜å¼€æ¥çš„ã€‚åœ¨ä½ åˆ›å»ºä»“åº“çš„æ—¶å€™ï¼Œmaster æ˜¯â€œé»˜è®¤çš„â€åˆ†æ”¯ã€‚åœ¨å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œå®Œæˆåå†å°†å®ƒä»¬åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚

åˆ›å»ºä¸€ä¸ªå«åš `feature_x` çš„åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢è¿‡å»

```bash
git checkout -b feature_x
```

åˆ‡æ¢å›ä¸»åˆ†æ”¯

```bash
git checkout master
```

å†æŠŠæ–°å»ºçš„åˆ†æ”¯åˆ æ‰

```bash
git branch -d feature_x
```

é™¤éä½ å°†åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼Œä¸ç„¶è¯¥åˆ†æ”¯å°±æ˜¯ä¸ä¸ºä»–äººæ‰€è§çš„

```bash
git push origin <branch>
```

### æ›´æ–°ä¸åˆå¹¶

è¦æ›´æ–°ä½ çš„æœ¬åœ°ä»“åº“è‡³æœ€æ–°æ”¹åŠ¨ï¼Œæ‰§è¡Œï¼š

```bash
git pull
```

ä»¥åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸­è·å– (fetch) å¹¶åˆå¹¶ (merge) è¿œç«¯çš„æ”¹åŠ¨ã€‚

è¦åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°ä½ çš„å½“å‰åˆ†æ”¯ (ä¾‹å¦‚ master) ï¼Œæ‰§è¡Œï¼š

```
git merge <branch>
```

åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œgit éƒ½ä¼šå°è¯•å»è‡ªåŠ¨åˆå¹¶æ”¹åŠ¨ã€‚é—æ†¾çš„æ˜¯ï¼Œè¿™å¯èƒ½å¹¶éæ¯æ¬¡éƒ½æˆåŠŸï¼Œå¹¶å¯èƒ½å‡ºç°å†²çª (conflicts) ã€‚ è¿™æ—¶å€™å°±éœ€è¦ä½ ä¿®æ”¹è¿™äº›æ–‡ä»¶æ¥æ‰‹åŠ¨åˆå¹¶è¿™äº›å†²çª (conflicts) ã€‚æ”¹å®Œä¹‹åï¼Œä½ éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å°†å®ƒä»¬æ ‡è®°ä¸ºåˆå¹¶æˆåŠŸï¼š

```bash
git add <filename>
```

åœ¨åˆå¹¶æ”¹åŠ¨ä¹‹å‰ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é¢„è§ˆå·®å¼‚ï¼š

```bash
git diff <source_branch> <target_branch>
```

### æ ‡ç­¾

ä¸ºè½¯ä»¶å‘å¸ƒåˆ›å»ºæ ‡ç­¾æ˜¯æ¨èçš„ã€‚è¿™ä¸ªæ¦‚å¿µæ—©å·²å­˜åœ¨ï¼Œåœ¨ SVN ä¸­ä¹Ÿæœ‰ã€‚ä½ å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªå«åš 1.0.0 çš„æ ‡ç­¾ï¼š

```
git tag 1.0.0 1b2e1d63ff
```

1b2e1d63ff æ˜¯ä½ æƒ³è¦æ ‡è®°çš„æäº¤ ID çš„å‰ 10 ä½å­—ç¬¦ã€‚å¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤è·å–æäº¤ IDï¼š

```
git log
```

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å°‘ä¸€ç‚¹çš„æäº¤ ID å‰å‡ ä½ï¼Œåªè¦å®ƒçš„æŒ‡å‘å…·æœ‰å”¯ä¸€æ€§ã€‚

### log

å¦‚æœä½ æƒ³äº†è§£æœ¬åœ°ä»“åº“çš„å†å²è®°å½•ï¼Œæœ€ç®€å•çš„å‘½ä»¤å°±æ˜¯ä½¿ç”¨ï¼š

```
git log
```

ä½ å¯ä»¥æ·»åŠ ä¸€äº›å‚æ•°æ¥ä¿®æ”¹ä»–çš„è¾“å‡ºï¼Œä»è€Œå¾—åˆ°è‡ªå·±æƒ³è¦çš„ç»“æœã€‚ åªçœ‹æŸä¸€ä¸ªäººçš„æäº¤è®°å½•

`git log --author=bob`

ä¸€ä¸ªå‹ç¼©åçš„æ¯ä¸€æ¡æäº¤è®°å½•åªå ä¸€è¡Œçš„è¾“å‡º

`git log --pretty=oneline`
æˆ–è€…ä½ æƒ³é€šè¿‡ ASCII è‰ºæœ¯çš„æ ‘å½¢ç»“æ„æ¥å±•ç¤ºæ‰€æœ‰çš„åˆ†æ”¯, æ¯ä¸ªåˆ†æ”¯éƒ½æ ‡ç¤ºäº†ä»–çš„åå­—å’Œæ ‡ç­¾

```
git log --graph --oneline --decorate --all
```

çœ‹çœ‹å“ªäº›æ–‡ä»¶æ”¹å˜äº†

```
git log --name-status
```

è¿™äº›åªæ˜¯ä½ å¯ä»¥ä½¿ç”¨çš„å‚æ•°ä¸­å¾ˆå°çš„ä¸€éƒ¨åˆ†ã€‚æ›´å¤šçš„ä¿¡æ¯ï¼Œå‚è€ƒ

```
git log --help
```

### æ›¿æ¢æœ¬åœ°æ”¹åŠ¨

å‡å¦‚ä½ æ“ä½œå¤±è¯¯ (å½“ç„¶ï¼Œè¿™æœ€å¥½æ°¸è¿œä¸è¦å‘ç”Ÿ) ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ›¿æ¢æ‰æœ¬åœ°æ”¹åŠ¨ï¼š

```
git checkout --<filename>
```

æ­¤å‘½ä»¤ä¼šä½¿ç”¨ HEAD ä¸­çš„æœ€æ–°å†…å®¹æ›¿æ¢æ‰ä½ çš„å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å·²æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ”¹åŠ¨ä»¥åŠæ–°æ–‡ä»¶éƒ½ä¸ä¼šå—åˆ°å½±å“ã€‚

å‡å¦‚ä½ æƒ³ä¸¢å¼ƒä½ åœ¨æœ¬åœ°çš„æ‰€æœ‰æ”¹åŠ¨ä¸æäº¤ï¼Œå¯ä»¥åˆ°æœåŠ¡å™¨ä¸Šè·å–æœ€æ–°çš„ç‰ˆæœ¬å†å²ï¼Œå¹¶å°†ä½ æœ¬åœ°ä¸»åˆ†æ”¯æŒ‡å‘å®ƒï¼š

```
git fetch origin
git reset --hard origin/master
```

### å›¾å½¢åŒ–å®¢æˆ·ç«¯

- [GitX (L) (OSX, å¼€æºè½¯ä»¶)](http://gitx.laullon.com/)
- [Tower (OSX)](http://www.git-tower.com/)
- [Source Tree (OSX, å…è´¹)](http://www.sourcetreeapp.com/)
- [GitHub for Mac (OSX, å…è´¹)](http://mac.github.com/)
- [GitBox (OSX, App Store)](https://itunes.apple.com/gb/app/gitbox/id403388357?mt=12)
