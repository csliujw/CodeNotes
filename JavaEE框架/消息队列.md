# 概述

- 消息队列可提升系统异步通信的能力，扩展解耦能力。

- 消息服务的两个重要概念：消息代理（message broker）和目的地（destination）
  - 当消息发送者发送信息后，消息代理将会接管消息，并确保消息传递到指定目的地
  - 我的个人理解：就是一个解耦的队列，按顺序把 消息传递到目的地，不必即时发送。

- 消息队列中主要的两种形式
  - 队列：点对点通信（point-to-point）
  - 主题：发布（publish）/订阅（subscribe） 消息通信
- 点对点式
  - 消息发送者发出消息，消息代理将其放入一个队列中。消息接收者从队列中获取消息内容，消息读取后移除队列。
  - 消息只有唯一的发送者和接受者，但是不是说只能有一个接收者。
- 发布订阅式
  - 发送者发送消息到主题，多个接收者监听这个主题，那么就会在消息到达的同时收到消息。
- `JMS`（Java Message Service）Java消息服务
  - 基于`JVM`消息代理的规范。`ActiveMQ，HornetMQ`是`JMS`实现
- `AMQP`（`Advabced Message Queuing Protocol`）
  - 高级消息队列协议，也是一个消息代理的规范。兼容`JMS`
  - `RabbitMQ`是`AMQP`的实现。

- 消息队列常用场景
  - 发送注册邮件：用注册，信息写入了数据库，我们开启另一个线程用来发送确认邮件。
  - 适用于异步处理的场景。
- 应用解耦
  - 一种消息队列，可用于不同的系统只需要调用消息队列提供的接口即可。
  - 如：订单系统与库存系统的通信，可用消息队列进行解耦，降低两个系统的耦合。

- 流量削峰
  - 将用户请求加入消息队列，定长，谁先进队，设秒杀成功。